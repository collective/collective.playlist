!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("pjaxscript",[],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Pjax=t()}}(function(){return function(){function t(e,i,s){function n(a,o){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){return n(e[a][1][t]||t)},c,c.exports,t,e,i,s)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}return t}()({1:[function(t,e,i){var s=t("./lib/execute-scripts.js"),n=t("./lib/foreach-els.js"),r=t("./lib/parse-options.js"),a=t("./lib/switches"),o=t("./lib/uniqueid.js"),l=t("./lib/events/on.js"),u=t("./lib/events/trigger.js"),c=t("./lib/util/clone.js"),h=t("./lib/util/contains.js"),d=t("./lib/util/extend.js"),p=t("./lib/util/noop"),f=function(t){this.state={numPendingSwitches:0,href:null,options:null},this.options=r(t),this.log("Pjax options",this.options),this.options.scrollRestoration&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),this.maxUid=this.lastUid=o(),this.parseDOM(document),l(window,"popstate",function(t){if(t.state){var e=c(this.options);e.url=t.state.url,e.title=t.state.title,e.history=!1,e.scrollPos=t.state.scrollPos,t.state.uid<this.lastUid?e.backward=!0:e.forward=!0,this.lastUid=t.state.uid,this.loadUrl(t.state.url,e)}}.bind(this))};if(f.switches=a,f.prototype={log:t("./lib/proto/log.js"),getElements:function(t){return t.querySelectorAll(this.options.elements)},parseDOM:function(e){var i=t("./lib/proto/parse-element");n(this.getElements(e),i,this)},refresh:function(t){this.parseDOM(t||document)},reload:function(){window.location.reload()},attachLink:t("./lib/proto/attach-link.js"),attachForm:t("./lib/proto/attach-form.js"),forEachSelectors:function(e,i,s){return t("./lib/foreach-selectors.js").bind(this)(this.options.selectors,e,i,s)},switchSelectors:function(e,i,s,n){return t("./lib/switches-selectors.js").bind(this)(this.options.switches,this.options.switchesOptions,e,i,s,n)},latestChance:function(t){window.location=t},onSwitch:function(){u(window,"resize scroll"),0===--this.state.numPendingSwitches&&this.afterAllSwitches()},loadContent:function(t,e){var i=document.implementation.createHTMLDocument("pjax"),s=/<html[^>]+>/gi,n=/\s?[a-z:]+(?:\=(?:\'|\")[^\'\">]+(?:\'|\"))*/gi,r=t.match(s);if(r&&r.length&&(r=r[0].match(n)).length&&(r.shift(),r.forEach(function(t){var e=t.trim().split("=");1===e.length?i.documentElement.setAttribute(e[0],!0):i.documentElement.setAttribute(e[0],e[1].slice(1,-1))})),i.documentElement.innerHTML=t,this.log("load content",i.documentElement.attributes,i.documentElement.innerHTML.length),document.activeElement&&h(document,this.options.selectors,document.activeElement))try{document.activeElement.blur()}catch(t){}this.switchSelectors(this.options.selectors,i,document,e)},abortRequest:t("./lib/abort-request.js"),doRequest:t("./lib/send-request.js"),handleResponse:t("./lib/proto/handle-response.js"),loadUrl:function(t,e){e="object"==typeof e?d({},this.options,e):c(this.options),this.log("load href",t,e),this.abortRequest(this.request),u(document,"pjax:send",e),this.request=this.doRequest(t,e,this.handleResponse.bind(this))},afterAllSwitches:function(){var t=Array.prototype.slice.call(document.querySelectorAll("[autofocus]")).pop();t&&document.activeElement!==t&&t.focus(),this.options.selectors.forEach(function(t){n(document.querySelectorAll(t),function(t){s(t)})});var e=this.state;if(e.options.history&&(window.history.state||(this.lastUid=this.maxUid=o(),window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)),this.lastUid=this.maxUid=o(),window.history.pushState({url:e.href,title:e.options.title,uid:this.maxUid,scrollPos:[0,0]},e.options.title,e.href)),this.forEachSelectors(function(t){this.parseDOM(t)},this),u(document,"pjax:complete pjax:success",e.options),"function"==typeof e.options.analytics&&e.options.analytics(),e.options.history){var i=document.createElement("a");if(i.href=this.state.href,i.hash){var r=i.hash.slice(1);r=decodeURIComponent(r);var a=0,l=document.getElementById(r)||document.getElementsByName(r)[0];if(l&&l.offsetParent)do{a+=l.offsetTop,l=l.offsetParent}while(l);window.scrollTo(0,a)}else!1!==e.options.scrollTo&&(e.options.scrollTo.length>1?window.scrollTo(e.options.scrollTo[0],e.options.scrollTo[1]):window.scrollTo(0,e.options.scrollTo))}else e.options.scrollRestoration&&e.options.scrollPos&&window.scrollTo(e.options.scrollPos[0],e.options.scrollPos[1]);this.state={numPendingSwitches:0,href:null,options:null}}},f.isSupported=t("./lib/is-supported.js"),f.isSupported())e.exports=f;else{var m=p;for(var y in f.prototype)f.prototype.hasOwnProperty(y)&&"function"==typeof f.prototype[y]&&(m[y]=p);e.exports=m}},{"./lib/abort-request.js":2,"./lib/events/on.js":4,"./lib/events/trigger.js":5,"./lib/execute-scripts.js":6,"./lib/foreach-els.js":7,"./lib/foreach-selectors.js":8,"./lib/is-supported.js":9,"./lib/parse-options.js":10,"./lib/proto/attach-form.js":11,"./lib/proto/attach-link.js":12,"./lib/proto/handle-response.js":13,"./lib/proto/log.js":14,"./lib/proto/parse-element":15,"./lib/send-request.js":16,"./lib/switches":18,"./lib/switches-selectors.js":17,"./lib/uniqueid.js":19,"./lib/util/clone.js":20,"./lib/util/contains.js":21,"./lib/util/extend.js":22,"./lib/util/noop":23}],2:[function(t,e,i){var s=t("./util/noop");e.exports=function(t){t&&t.readyState<4&&(t.onreadystatechange=s,t.abort())}},{"./util/noop":23}],3:[function(t,e,i){e.exports=function(t){var e=t.text||t.textContent||t.innerHTML||"",i=t.src||"",s=t.parentNode||document.querySelector("head")||document.documentElement,n=document.createElement("script");if(e.match("document.write"))return console&&console.log&&console.log("Script contains document.write. Can’t be executed correctly. Code skipped ",t),!1;if(n.type="text/javascript",""!==i&&(n.src=i,n.async=!1),""!==e)try{n.appendChild(document.createTextNode(e))}catch(t){n.text=e}return s.appendChild(n),(s instanceof HTMLHeadElement||s instanceof HTMLBodyElement)&&s.removeChild(n),!0}},{}],4:[function(t,e,i){var s=t("../foreach-els");e.exports=function(t,e,i,n){(e="string"==typeof e?e.split(" "):e).forEach(function(e){s(t,function(t){t.addEventListener(e,i,n)})})}},{"../foreach-els":7}],5:[function(t,e,i){var s=t("../foreach-els");e.exports=function(t,e,i){(e="string"==typeof e?e.split(" "):e).forEach(function(e){var n;(n=document.createEvent("HTMLEvents")).initEvent(e,!0,!0),n.eventName=e,i&&Object.keys(i).forEach(function(t){n[t]=i[t]}),s(t,function(t){var e=!1;t.parentNode||t===document||t===window||(e=!0,document.body.appendChild(t)),t.dispatchEvent(n),e&&t.parentNode.removeChild(t)})})}},{"../foreach-els":7}],6:[function(t,e,i){var s=t("./foreach-els"),n=t("./eval-script");e.exports=function(t){"script"===t.tagName.toLowerCase()&&n(t),s(t.querySelectorAll("script"),function(t){t.type&&"text/javascript"!==t.type.toLowerCase()||(t.parentNode&&t.parentNode.removeChild(t),n(t))})}},{"./eval-script":3,"./foreach-els":7}],7:[function(t,e,i){e.exports=function(t,e,i){return t instanceof HTMLCollection||t instanceof NodeList||t instanceof Array?Array.prototype.forEach.call(t,e,i):e.call(i,t)}},{}],8:[function(t,e,i){var s=t("./foreach-els");e.exports=function(t,e,i,n){n=n||document,t.forEach(function(t){s(n.querySelectorAll(t),e,i)})}},{"./foreach-els":7}],9:[function(t,e,i){e.exports=function(){return window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/)}},{}],10:[function(t,e,i){function s(){window._gaq&&_gaq.push(["_trackPageview"]),window.ga&&ga("send","pageview",{page:location.pathname,title:document.title})}var n=t("./switches");e.exports=function(t){return t=t||{},t.elements=t.elements||"a[href], form[action]",t.selectors=t.selectors||["title",".js-Pjax"],t.switches=t.switches||{},t.switchesOptions=t.switchesOptions||{},t.history=t.history||!0,t.analytics="function"==typeof t.analytics||!1===t.analytics?t.analytics:s,t.scrollTo=void 0===t.scrollTo?0:t.scrollTo,t.scrollRestoration=void 0===t.scrollRestoration||t.scrollRestoration,t.cacheBust=void 0===t.cacheBust||t.cacheBust,t.debug=t.debug||!1,t.timeout=t.timeout||0,t.currentUrlFullReload=void 0!==t.currentUrlFullReload&&t.currentUrlFullReload,t.switches.head||(t.switches.head=n.switchElementsAlt),t.switches.body||(t.switches.body=n.switchElementsAlt),t}},{"./switches":18}],11:[function(t,e,i){function s(t){var e=[];for(var i in t.elements)if(!Number.isNaN(Number(i))){var s=t.elements[i],n=s.tagName.toLowerCase();if(s.name&&void 0!==s.attributes&&"button"!==n){var r=s.attributes.type;if(!r||"checkbox"!==r.value&&"radio"!==r.value||s.checked){var a=[];if("select"===n)for(var o,l=0;l<s.options.length;l++)(o=s.options[l]).selected&&a.push(o.value||o.text);else a.push(s.value);for(var u=0;u<a.length;u++)e.push({name:encodeURIComponent(s.name),value:encodeURIComponent(a[u])})}}}return e}function n(t,e){return t.protocol!==window.location.protocol||t.host!==window.location.host?"external":t.hash&&t.href.replace(t.hash,"")===window.location.href.replace(location.hash,"")?"anchor":t.href===window.location.href.split("#")[0]+"#"?"anchor-empty":e.currentUrlFullReload&&t.href===window.location.href.split("#")[0]?"reload":void 0}var r=t("../events/on"),a=t("../util/clone"),o=function(t,e){if(!l(e)){var i=a(this.options);i.requestOptions={requestUrl:t.getAttribute("action")||window.location.href,requestMethod:t.getAttribute("method")||"GET"};var r=document.createElement("a");r.setAttribute("href",i.requestOptions.requestUrl);var o=n(r,i);o?t.setAttribute("data-pjax-state",o):(e.preventDefault(),"multipart/form-data"===t.enctype?i.requestOptions.formData=new FormData(t):i.requestOptions.requestParams=s(t),t.setAttribute("data-pjax-state","submit"),i.triggerElement=t,this.loadUrl(r.href,i))}},l=function(t){return t.defaultPrevented||!1===t.returnValue};e.exports=function(t){var e=this;t.setAttribute("data-pjax-state",""),r(t,"submit",function(i){o.call(e,t,i)}),r(t,"keyup",function(i){13===i.keyCode&&o.call(e,t,i)}.bind(this))}},{"../events/on":4,"../util/clone":20}],12:[function(t,e,i){function s(t,e){return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey?"modifier":t.protocol!==window.location.protocol||t.host!==window.location.host?"external":t.hash&&t.href.replace(t.hash,"")===window.location.href.replace(location.hash,"")?"anchor":t.href===window.location.href.split("#")[0]+"#"?"anchor-empty":void 0}var n=t("../events/on"),r=t("../util/clone"),a="data-pjax-state",o=function(t,e){if(!l(e)){var i=r(this.options),n=s(t,e);if(n)t.setAttribute(a,n);else{if(e.preventDefault(),this.options.currentUrlFullReload&&t.href===window.location.href.split("#")[0])return t.setAttribute(a,"reload"),void this.reload();t.setAttribute(a,"load"),i.triggerElement=t,this.loadUrl(t.href,i)}}},l=function(t){return t.defaultPrevented||!1===t.returnValue};e.exports=function(t){var e=this;t.setAttribute(a,""),n(t,"click",function(i){o.call(e,t,i)}),n(t,"keyup",function(i){13===i.keyCode&&o.call(e,t,i)}.bind(this))}},{"../events/on":4,"../util/clone":20}],13:[function(t,e,i){var s=t("../util/clone.js"),n=t("../uniqueid.js"),r=t("../events/trigger.js");e.exports=function(t,e,i,a){if(a=s(a||this.options),a.request=e,!1!==t){var o=window.history.state||{};window.history.replaceState({url:o.url||window.location.href,title:o.title||document.title,uid:o.uid||n(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location);var l=i;e.responseURL?i!==e.responseURL&&(i=e.responseURL):e.getResponseHeader("X-PJAX-URL")?i=e.getResponseHeader("X-PJAX-URL"):e.getResponseHeader("X-XHR-Redirected-To")&&(i=e.getResponseHeader("X-XHR-Redirected-To"));var u=document.createElement("a");u.href=l;var c=u.hash;u.href=i,c&&!u.hash&&(u.hash=c,i=u.href),this.state.href=i,this.state.options=a;try{this.loadContent(t,this.options)}catch(t){if(r(document,"pjax:error",a),this.options.debug)throw t;return console&&console.error&&console.error("Pjax switch fail: ",t),this.latestChance(i)}}else r(document,"pjax:complete pjax:error",a)}},{"../events/trigger.js":5,"../uniqueid.js":19,"../util/clone.js":20}],14:[function(t,e,i){e.exports=function(){this.options.debug&&console&&("function"==typeof console.log?console.log.apply(console,arguments):console.log&&console.log(arguments))}},{}],15:[function(t,e,i){e.exports=function(t){switch(t.tagName.toLowerCase()){case"a":t.hasAttribute("data-pjax-state")||this.attachLink(t);break;case"form":t.hasAttribute("data-pjax-state")||this.attachForm(t);break;default:throw"Pjax can only be applied on <a> or <form> submit"}}},{}],16:[function(t,e,i){var s=t("./util/update-query-string");e.exports=function(t,e,i){var n,r=(e=e||{}).requestOptions||{},a=(r.requestMethod||"GET").toUpperCase(),o=r.requestParams||null,l=r.formData||null,u=null,c=new XMLHttpRequest,h=e.timeout||0;if(c.onreadystatechange=function(){4===c.readyState&&(200===c.status?i(c.responseText,c,t,e):0!==c.status&&i(null,c,t,e))},c.onerror=function(s){console.log(s),i(null,c,t,e)},c.ontimeout=function(){i(null,c,t,e)},o&&o.length)switch(n=o.map(function(t){return t.name+"="+t.value}).join("&"),a){case"GET":t=t.split("?")[0],t+="?"+n;break;case"POST":u=n}else l&&(u=l);return e.cacheBust&&(t=s(t,"t",Date.now())),c.open(a,t,!0),c.timeout=h,c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("X-PJAX","true"),c.setRequestHeader("X-PJAX-Selectors",JSON.stringify(e.selectors)),u&&"POST"===a&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(u),c}},{"./util/update-query-string":24}],17:[function(t,e,i){var s=t("./foreach-els"),n=t("./switches");e.exports=function(t,e,i,r,a,o){var l=[];i.forEach(function(i){var u=r.querySelectorAll(i),c=a.querySelectorAll(i);if(this.log&&this.log("Pjax switch",i,u,c),u.length!==c.length)throw"DOM doesn’t look the same on new loaded page: ’"+i+"’ - new "+u.length+", old "+c.length;s(u,function(s,r){var a=c[r];this.log&&this.log("newEl",s,"oldEl",a);var u=t[i]?t[i].bind(this,a,s,o,e[i]):n.outerHTML.bind(this,a,s,o);l.push(u)},this)},this),this.state.numPendingSwitches=l.length,l.forEach(function(t){t()})}},{"./foreach-els":7,"./switches":18}],18:[function(t,e,i){var s=t("./events/on.js");e.exports={outerHTML:function(t,e){t.outerHTML=e.outerHTML,this.onSwitch()},innerHTML:function(t,e){t.innerHTML=e.innerHTML,""===e.className?t.removeAttribute("class"):t.className=e.className,this.onSwitch()},switchElementsAlt:function(t,e){if(t.innerHTML=e.innerHTML,e.hasAttributes())for(var i=e.attributes,s=0;s<i.length;s++)t.attributes.setNamedItem(i[s].cloneNode());this.onSwitch()},replaceNode:function(t,e){t.parentNode.replaceChild(e,t),this.onSwitch()},sideBySide:function(t,e,i,n){var r=Array.prototype.forEach,a=[],o=[],l=document.createDocumentFragment(),u="animationend webkitAnimationEnd MSAnimationEnd oanimationend",c=0,h=function(t){t.target===t.currentTarget&&--c<=0&&a&&(a.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)}),o.forEach(function(t){t.className=t.className.replace(t.getAttribute("data-pjax-classes"),""),t.removeAttribute("data-pjax-classes")}),o=null,a=null,this.onSwitch())}.bind(this);n=n||{},r.call(t.childNodes,function(t){a.push(t),t.classList&&!t.classList.contains("js-Pjax-remove")&&(t.hasAttribute("data-pjax-classes")&&(t.className=t.className.replace(t.getAttribute("data-pjax-classes"),""),t.removeAttribute("data-pjax-classes")),t.classList.add("js-Pjax-remove"),n.callbacks&&n.callbacks.removeElement&&n.callbacks.removeElement(t),n.classNames&&(t.className+=" "+n.classNames.remove+" "+(i.backward?n.classNames.backward:n.classNames.forward)),c++,s(t,u,h,!0))}),r.call(e.childNodes,function(t){if(t.classList){var e="";n.classNames&&(e=" js-Pjax-add "+n.classNames.add+" "+(i.backward?n.classNames.forward:n.classNames.backward)),n.callbacks&&n.callbacks.addElement&&n.callbacks.addElement(t),t.className+=e,t.setAttribute("data-pjax-classes",e),o.push(t),l.appendChild(t),c++,s(t,u,h,!0)}}),t.className=e.className,t.appendChild(l)}}},{"./events/on.js":4}],19:[function(t,e,i){e.exports=function(){var t=0;return function(){var e="pjax"+(new Date).getTime()+"_"+t;return t++,e}}()},{}],20:[function(t,e,i){e.exports=function(t){if(null===t||"object"!=typeof t)return t;var e=t.constructor();for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}},{}],21:[function(t,e,i){e.exports=function(t,e,i){for(var s=0;s<e.length;s++)for(var n=t.querySelectorAll(e[s]),r=0;r<n.length;r++)if(n[r].contains(i))return!0;return!1}},{}],22:[function(t,e,i){e.exports=function(t){if(null==t)return null;for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}},{}],23:[function(t,e,i){e.exports=function(){}},{}],24:[function(t,e,i){e.exports=function(t,e,i){var s=new RegExp("([?&])"+e+"=.*?(&|$)","i"),n=-1!==t.indexOf("?")?"&":"?";return t.match(s)?t.replace(s,"$1"+e+"="+i+"$2"):t+n+e+"="+i}},{}]},{},[1])(1)}),function(t,e){"function"==typeof define&&define.amd?define("jplayerscript",["jquery"],e):e("object"==typeof exports?require("jquery"):t.jQuery?t.jQuery:t.Zepto)}(this,function(t,e){t.fn.jPlayer=function(i){var s="jPlayer",n="string"==typeof i,r=Array.prototype.slice.call(arguments,1),a=this;return i=!n&&r.length?t.extend.apply(null,[!0,i].concat(r)):i,n&&"_"===i.charAt(0)?a:(this.each(n?function(){var n=t(this).data(s),o=n&&t.isFunction(n[i])?n[i].apply(n,r):n;return o!==n&&o!==e?(a=o,!1):void 0}:function(){var e=t(this).data(s);e?e.option(i||{}):t(this).data(s,new t.jPlayer(i,this))}),a)},t.jPlayer=function(e,i){if(arguments.length){this.element=t(i),this.options=t.extend(!0,{},this.options,e);var s=this;this.element.bind("remove.jPlayer",function(){s.destroy()}),this._init()}},"function"!=typeof t.fn.stop&&(t.fn.stop=function(){}),t.jPlayer.emulateMethods="load play pause",t.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",t.jPlayer.emulateOptions="muted volume",t.jPlayer.reservedEvent="ready flashreset resize repeat error warning",t.jPlayer.event={},t.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){t.jPlayer.event[this]="jPlayer_"+this}),t.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],t.jPlayer.pause=function(){t.jPlayer.prototype.destroyRemoved(),t.each(t.jPlayer.prototype.instances,function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")})},t.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var i=function(){this.init()};i.prototype={init:function(){this.options={timeFormat:t.jPlayer.timeFormat}},time:function(t){t=t&&"number"==typeof t?t:0;var e=new Date(1e3*t),i=e.getUTCHours(),s=this.options.timeFormat.showHour?e.getUTCMinutes():e.getUTCMinutes()+60*i,n=this.options.timeFormat.showMin?e.getUTCSeconds():e.getUTCSeconds()+60*s,r=this.options.timeFormat.padHour&&10>i?"0"+i:i,a=this.options.timeFormat.padMin&&10>s?"0"+s:s,o=this.options.timeFormat.padSec&&10>n?"0"+n:n,l="";return l+=this.options.timeFormat.showHour?r+this.options.timeFormat.sepHour:"",l+=this.options.timeFormat.showMin?a+this.options.timeFormat.sepMin:"",l+=this.options.timeFormat.showSec?o+this.options.timeFormat.sepSec:""}};var s=new i;t.jPlayer.convertTime=function(t){return s.time(t)},t.jPlayer.uaBrowser=function(t){var e=t.toLowerCase(),i=/(opera)(?:.*version)?[ \/]([\w.]+)/,s=/(msie) ([\w.]+)/,n=/(mozilla)(?:.*? rv:([\w.]+))?/,r=/(webkit)[ \/]([\w.]+)/.exec(e)||i.exec(e)||s.exec(e)||e.indexOf("compatible")<0&&n.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}},t.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),i=/(ipad|playbook)/,s=/(android)/,n=/(mobile)/,r=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(e)||[],a=i.exec(e)||!n.exec(e)&&s.exec(e)||[];return r[1]&&(r[1]=r[1].replace(/\s/g,"_")),{platform:r[1]||"",tablet:a[1]||""}},t.jPlayer.browser={},t.jPlayer.platform={};var n=t.jPlayer.uaBrowser(navigator.userAgent);n.browser&&(t.jPlayer.browser[n.browser]=!0,t.jPlayer.browser.version=n.version);var r=t.jPlayer.uaPlatform(navigator.userAgent);r.platform&&(t.jPlayer.platform[r.platform]=!0,t.jPlayer.platform.mobile=!r.tablet,t.jPlayer.platform.tablet=!!r.tablet),t.jPlayer.getDocMode=function(){var e;return t.jPlayer.browser.msie&&(document.documentMode?e=document.documentMode:(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7))),e},t.jPlayer.browser.documentMode=t.jPlayer.getDocMode(),t.jPlayer.nativeFeatures={init:function(){var t,e,i,s=document,n=s.createElement("video"),r={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},a=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=t={support:{w3c:!!s[r.w3c[0]],moz:!!s[r.moz[0]],webkit:"function"==typeof s[r.webkit[3]],webkitVideo:"function"==typeof n[r.webkitVideo[2]],ms:"function"==typeof n[r.ms[2]]},used:{}},e=0,i=a.length;i>e;e++){var o=a[e];if(t.support[o]){t.spec=o,t.used[o]=!0;break}}if(t.spec){var l=r[t.spec];t.api={fullscreenEnabled:!0,fullscreenElement:function(t){return(t=t||s)[l[1]]},requestFullscreen:function(t){return t[l[2]]()},exitFullscreen:function(t){return(t=t||s)[l[3]]()}},t.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else t.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},t.event={}}},t.jPlayer.nativeFeatures.init(),t.jPlayer.focus=null,t.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var a=function(e){var i,s=t.jPlayer.focus;s&&(t.each(t.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(t,s){return e.target.nodeName.toUpperCase()===s.toUpperCase()?(i=!0,!1):void 0}),i||t.each(s.options.keyBindings,function(i,n){return n&&t.isFunction(n.fn)&&("number"==typeof n.key&&e.which===n.key||"string"==typeof n.key&&e.key===n.key)?(e.preventDefault(),n.fn(s),!1):void 0}))};t.jPlayer.keys=function(e){var i="keydown.jPlayer";t(document.documentElement).unbind(i),e&&t(document.documentElement).bind(i,a)},t.jPlayer.keys(!0),t.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(e){e.jPlayer.options.loop?t(this).unbind(".jPlayerRepeat").bind(t.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){t(this).jPlayer("play")}):t(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(t){t.status.paused?t.play():t.pause()}},fullScreen:{key:70,fn:function(t){(t.status.video||t.options.audioFullScreen)&&t._setOption("fullScreen",!t.options.fullScreen)}},muted:{key:77,fn:function(t){t._muted(!t.options.muted)}},volumeUp:{key:190,fn:function(t){t.volume(t.options.volume+.1)}},volumeDown:{key:188,fn:function(t){t.volume(t.options.volume-.1)}},loop:{key:76,fn:function(t){t._loop(!t.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var i=this;if(this.element.empty(),this.status=t.extend({},this.status),this.internal=t.extend({},this.internal),this.options.timeFormat=t.extend({},t.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=t.jPlayer.platform.ipad||t.jPlayer.platform.iphone||t.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!t.jPlayer.focus&&(t.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},t.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),t.each(this.options.supplied.toLowerCase().split(","),function(e,s){var n=s.replace(/^\s+|\s+$/g,"");if(i.format[n]){var r=!1;t.each(i.formats,function(t,e){return n===e?(r=!0,!1):void 0}),r||i.formats.push(n)}}),t.each(this.options.solution.toLowerCase().split(","),function(e,s){var n=s.replace(/^\s+|\s+$/g,"");if(i.solution[n]){var r=!1;t.each(i.solutions,function(t,e){return n===e?(r=!0,!1):void 0}),r||i.solutions.push(n)}}),t.each(this.options.auroraFormats.toLowerCase().split(","),function(e,s){var n=s.replace(/^\s+|\s+$/g,"");if(i.format[n]){var r=!1;t.each(i.aurora.formats,function(t,e){return n===e?(r=!0,!1):void 0}),r||i.aurora.formats.push(n)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=t.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=t.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:e}),this.internal.video=t.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:e}),this.internal.flash=t.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:e,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=t.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:e}),t.each(t.jPlayer.event,function(t,s){i.options[t]!==e&&(i.element.bind(s+".jPlayer",i.options[t]),i.options[t]=e)}),this.require.audio=!1,this.require.video=!1,t.each(this.formats,function(t,e){i.require[i.format[e].media]=!0}),this.options=this.require.video?t.extend(!0,{},this.optionsVideo,this.options):t.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),t.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!i.status.video||i.status.waitForPlay)&&i.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=t("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){i._trigger(t.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},t.each(this.formats,function(e,s){i.html.canPlay[s]=i.html[i.format[s].media].available&&""!==i.htmlElement[i.format[s].media].canPlayType(i.format[s].codec),i.aurora.canPlay[s]=t.inArray(s,i.aurora.formats)>-1,i.flash.canPlay[s]=i.format[s].flashCanPlay&&i.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,t.each(this.solutions,function(e,s){if(0===e)i[s].desired=!0;else{var n=!1,r=!1;t.each(i.formats,function(t,e){i[i.solutions[0]].canPlay[e]&&("video"===i.format[e].media?r=!0:n=!0)}),i[s].desired=i.require.audio&&!n||i.require.video&&!r}}),this.html.support={},this.aurora.support={},this.flash.support={},t.each(this.formats,function(t,e){i.html.support[e]=i.html.canPlay[e]&&i.html.desired,i.aurora.support[e]=i.aurora.canPlay[e]&&i.aurora.desired,i.flash.support[e]=i.flash.canPlay[e]&&i.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,t.each(this.solutions,function(e,s){t.each(i.formats,function(t,e){return i[s].support[e]?(i[s].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:t.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SOLUTION,hint:t.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var s,n="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(t.jPlayer.browser.msie&&(Number(t.jPlayer.browser.version)<9||t.jPlayer.browser.documentMode<9)){var r='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',a=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+n+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];s=document.createElement(r);for(var o=0;o<a.length;o++)s.appendChild(document.createElement(a[o]))}else{var l=function(t,e,i){var s=document.createElement("param");s.setAttribute("name",e),s.setAttribute("value",i),t.appendChild(s)};(s=document.createElement("object")).setAttribute("id",this.internal.flash.id),s.setAttribute("name",this.internal.flash.id),s.setAttribute("data",this.internal.flash.swf),s.setAttribute("type","application/x-shockwave-flash"),s.setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("tabindex","-1"),l(s,"flashvars",n),l(s,"allowscriptaccess","always"),l(s,"bgcolor",this.options.backgroundColor),l(s,"wmode",this.options.wmode)}this.element.append(s),this.internal.flash.jq=t(s)}this.status.playbackRateEnabled=!(!this.html.used||this.flash.used)&&this._testPlaybackRate("audio"),this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=t("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=t("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){i._trigger(t.jPlayer.event.click)}))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout(function(){i.internal.ready=!0,i.version.flash="n/a",i._trigger(t.jPlayer.event.repeat),i._trigger(t.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),t.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),t.each(this.css.jq,function(t,e){e.length&&e.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===t.jPlayer.focus&&(t.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var e=this;t.each(this.instances,function(t,i){e.element!==i&&(i.data("jPlayer")||(i.jPlayer("destroy"),delete e.instances[t]))})},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{return t.canPlayType(this.format.mp3.codec),!0}catch(t){return!1}},_testPlaybackRate:function(t){var e;t="string"==typeof t?t:"audio",e=document.createElement(t);try{return"playbackRate"in e&&(e.playbackRate=.5,.5===e.playbackRate)}catch(t){return!1}},_uaBlocklist:function(e){var i=navigator.userAgent.toLowerCase(),s=!1;return t.each(e,function(t,e){return e&&e.test(i)?(s=!0,!1):void 0}),s},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(e,i){var s=this;e.preload=this.options.preload,e.muted=this.options.muted,e.volume=this.options.volume,this.status.playbackRateEnabled&&(e.defaultPlaybackRate=this.options.defaultPlaybackRate,e.playbackRate=this.options.playbackRate),e.addEventListener("progress",function(){i.gate&&(s.internal.cmdsIgnored&&this.readyState>0&&(s.internal.cmdsIgnored=!1),s._getHtmlStatus(e),s._updateInterface(),s._trigger(t.jPlayer.event.progress))},!1),e.addEventListener("loadeddata",function(){i.gate&&(s.androidFix.setMedia=!1,s.androidFix.play&&(s.androidFix.play=!1,s.play(s.androidFix.time)),s.androidFix.pause&&(s.androidFix.pause=!1,s.pause(s.androidFix.time)),s._trigger(t.jPlayer.event.loadeddata))},!1),e.addEventListener("timeupdate",function(){i.gate&&(s._getHtmlStatus(e),s._updateInterface(),s._trigger(t.jPlayer.event.timeupdate))},!1),e.addEventListener("durationchange",function(){i.gate&&(s._getHtmlStatus(e),s._updateInterface(),s._trigger(t.jPlayer.event.durationchange))},!1),e.addEventListener("play",function(){i.gate&&(s._updateButtons(!0),s._html_checkWaitForPlay(),s._trigger(t.jPlayer.event.play))},!1),e.addEventListener("playing",function(){i.gate&&(s._updateButtons(!0),s._seeked(),s._trigger(t.jPlayer.event.playing))},!1),e.addEventListener("pause",function(){i.gate&&(s._updateButtons(!1),s._trigger(t.jPlayer.event.pause))},!1),e.addEventListener("waiting",function(){i.gate&&(s._seeking(),s._trigger(t.jPlayer.event.waiting))},!1),e.addEventListener("seeking",function(){i.gate&&(s._seeking(),s._trigger(t.jPlayer.event.seeking))},!1),e.addEventListener("seeked",function(){i.gate&&(s._seeked(),s._trigger(t.jPlayer.event.seeked))},!1),e.addEventListener("volumechange",function(){i.gate&&(s.options.volume=e.volume,s.options.muted=e.muted,s._updateMute(),s._updateVolume(),s._trigger(t.jPlayer.event.volumechange))},!1),e.addEventListener("ratechange",function(){i.gate&&(s.options.defaultPlaybackRate=e.defaultPlaybackRate,s.options.playbackRate=e.playbackRate,s._updatePlaybackRate(),s._trigger(t.jPlayer.event.ratechange))},!1),e.addEventListener("suspend",function(){i.gate&&(s._seeked(),s._trigger(t.jPlayer.event.suspend))},!1),e.addEventListener("ended",function(){i.gate&&(t.jPlayer.browser.webkit||(s.htmlElement.media.currentTime=0),s.htmlElement.media.pause(),s._updateButtons(!1),s._getHtmlStatus(e,!0),s._updateInterface(),s._trigger(t.jPlayer.event.ended))},!1),e.addEventListener("error",function(){i.gate&&(s._updateButtons(!1),s._seeked(),s.status.srcSet&&(clearTimeout(s.internal.htmlDlyCmdId),s.status.waitForLoad=!0,s.status.waitForPlay=!0,s.status.video&&!s.status.nativeVideoControls&&s.internal.video.jq.css({width:"0px",height:"0px"}),s._validString(s.status.media.poster)&&!s.status.nativeVideoControls&&s.internal.poster.jq.show(),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.show(),s._error({type:t.jPlayer.error.URL,context:s.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1),t.each(t.jPlayer.htmlEvent,function(n,r){e.addEventListener(this,function(){i.gate&&s._trigger(t.jPlayer.event[r])},!1)})},_addAuroraEventListeners:function(e,i){var s=this;e.volume=100*this.options.volume,e.on("progress",function(){i.gate&&(s.internal.cmdsIgnored&&this.readyState>0&&(s.internal.cmdsIgnored=!1),s._getAuroraStatus(e),s._updateInterface(),s._trigger(t.jPlayer.event.progress),e.duration>0&&s._trigger(t.jPlayer.event.timeupdate))},!1),e.on("ready",function(){i.gate&&s._trigger(t.jPlayer.event.loadeddata)},!1),e.on("duration",function(){i.gate&&(s._getAuroraStatus(e),s._updateInterface(),s._trigger(t.jPlayer.event.durationchange))},!1),e.on("end",function(){i.gate&&(s._updateButtons(!1),s._getAuroraStatus(e,!0),s._updateInterface(),s._trigger(t.jPlayer.event.ended))},!1),e.on("error",function(){i.gate&&(s._updateButtons(!1),s._seeked(),s.status.srcSet&&(s.status.waitForLoad=!0,s.status.waitForPlay=!0,s.status.video&&!s.status.nativeVideoControls&&s.internal.video.jq.css({width:"0px",height:"0px"}),s._validString(s.status.media.poster)&&!s.status.nativeVideoControls&&s.internal.poster.jq.show(),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.show(),s._error({type:t.jPlayer.error.URL,context:s.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(t,e){var i=0,s=0,n=0,r=0;isFinite(t.duration)&&(this.status.duration=t.duration),i=t.currentTime,s=this.status.duration>0?100*i/this.status.duration:0,"object"==typeof t.seekable&&t.seekable.length>0?(n=this.status.duration>0?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100,r=this.status.duration>0?100*t.currentTime/t.seekable.end(t.seekable.length-1):0):(n=100,r=s),e&&(i=0,r=0,s=0),this.status.seekPercent=n,this.status.currentPercentRelative=r,this.status.currentPercentAbsolute=s,this.status.currentTime=i,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=t.readyState,this.status.networkState=t.networkState,this.status.playbackRate=t.playbackRate,this.status.ended=t.ended},_getAuroraStatus:function(t,e){var i=0,s=0,n=0,r=0;this.status.duration=t.duration/1e3,i=t.currentTime/1e3,s=this.status.duration>0?100*i/this.status.duration:0,t.buffered>0?(n=this.status.duration>0?t.buffered*this.status.duration/this.status.duration:100,r=this.status.duration>0?i/(t.buffered*this.status.duration):0):(n=100,r=s),e&&(i=0,r=0,s=0),this.status.seekPercent=n,this.status.currentPercentRelative=r,this.status.currentPercentAbsolute=s,this.status.currentTime=i,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=t.extend({},this.status,t.jPlayer.prototype.status)},_trigger:function(e,i,s){var n=t.Event(e);n.jPlayer={},n.jPlayer.version=t.extend({},this.version),n.jPlayer.options=t.extend(!0,{},this.options),n.jPlayer.status=t.extend(!0,{},this.status),n.jPlayer.html=t.extend(!0,{},this.html),n.jPlayer.aurora=t.extend(!0,{},this.aurora),n.jPlayer.flash=t.extend(!0,{},this.flash),i&&(n.jPlayer.error=t.extend({},i)),s&&(n.jPlayer.warning=t.extend({},s)),this.element.trigger(n)},jPlayerFlashEvent:function(e,i){if(e===t.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var s=this.status.currentTime,n=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),s>0&&(n?this.pause(s):this.play(s))}this._trigger(t.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=i.version,this.version.needFlash!==this.version.flash&&this._error({type:t.jPlayer.error.VERSION,context:this.version.flash,message:t.jPlayer.errorMsg.VERSION+this.version.flash,hint:t.jPlayer.errorHint.VERSION}),this._trigger(t.jPlayer.event.repeat),this._trigger(e);if(this.flash.gate)switch(e){case t.jPlayer.event.progress:case t.jPlayer.event.timeupdate:this._getFlashStatus(i),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(e);break;case t.jPlayer.event.pause:case t.jPlayer.event.ended:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.click:this._trigger(e);break;case t.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:t.jPlayer.error.URL,context:i.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL});break;case t.jPlayer.event.seeking:this._seeking(),this._trigger(e);break;case t.jPlayer.event.seeked:this._seeked(),this._trigger(e);break;case t.jPlayer.event.ready:break;default:this._trigger(e)}return!1},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent,this.status.currentPercentRelative=t.currentPercentRelative,this.status.currentPercentAbsolute=t.currentPercentAbsolute,this.status.currentTime=t.currentTime,this.status.duration=t.duration,this.status.remaining=t.duration-t.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(t){t===e?t=!this.status.paused:this.status.paused=!t,t?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(t?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));this.css.jq.currentTime.length&&this._convertTime(this.status.currentTime)!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime));var t="",e=this.status.duration,i=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?t=this.status.media.duration:("number"==typeof this.status.media.duration&&(e=this.status.media.duration,i=e-this.status.currentTime),t=this.options.remainingDuration?(i>0?"-":"")+this._convertTime(i):this._convertTime(e)),t!==this.css.jq.duration.text()&&this.css.jq.duration.text(t))},_convertTime:i.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(t){var e=document.createElement("div");return e.innerHTML='<a href="'+this._escapeHtml(t)+'">x</a>',e.firstChild.href},_absoluteMediaUrls:function(e){var i=this;return t.each(e,function(t,s){s&&i.format[t]&&"data:"!==s.substr(0,5)&&(e[t]=i._qualifyURL(s))}),e},addStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[t])},removeStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[t])},setMedia:function(e){var i=this,s=!1,n=this.status.media.poster!==e.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,e=this._absoluteMediaUrls(e),t.each(this.formats,function(n,r){var a="video"===i.format[r].media;return t.each(i.solutions,function(n,o){if(i[o].support[r]&&i._validString(e[r])){var l="html"===o,u="aurora"===o;return a?(l?(i.html.video.gate=!0,i._html_setVideo(e),i.html.active=!0):(i.flash.gate=!0,i._flash_setVideo(e),i.flash.active=!0),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i.status.video=!0):(l?(i.html.audio.gate=!0,i._html_setAudio(e),i.html.active=!0,t.jPlayer.platform.android&&(i.androidFix.setMedia=!0)):u?(i.aurora.gate=!0,i._aurora_setAudio(e),i.aurora.active=!0):(i.flash.gate=!0,i._flash_setAudio(e),i.flash.active=!0),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.hide(),i.status.video=!1),s=!0,!1}}),!s&&void 0}),s?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(e.poster)&&(n?this.htmlElement.poster.src=e.poster:this.internal.poster.jq.show()),"string"==typeof e.title&&(this.css.jq.title.length&&this.css.jq.title.html(e.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",e.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",e.title)),this.status.srcSet=!0,this.status.media=t.extend({},e),this._updateButtons(!1),this._updateInterface(),this._trigger(t.jPlayer.event.setmedia)):this._error({type:t.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SUPPORT,hint:t.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(t.jPlayer.focus=this)},play:function(t){"object"==typeof t&&this.options.useStateClassSkin&&!this.status.paused?this.pause(t):(t="number"==typeof t?t:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(t):this.aurora.active?this._aurora_play(t):this.flash.active&&this._flash_play(t)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(t){t="number"==typeof t?t:NaN,this.status.srcSet?this.html.active?this._html_pause(t):this.aurora.active?this._aurora_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},tellOthers:function(e,i){var s=this,n="function"==typeof i,r=Array.prototype.slice.call(arguments);"string"==typeof e&&(n&&r.splice(1,1),t.jPlayer.prototype.destroyRemoved(),t.each(this.instances,function(){s.element!==this&&(!n||i.call(this.data("jPlayer"),s))&&this.jPlayer.apply(this,r)}))},pauseOthers:function(t){this.tellOthers("pause",function(){return this.status.srcSet},t)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100),this.status.srcSet?this.html.active?this._html_playHead(t):this.aurora.active?this._aurora_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(t){this.mutedWorker(t),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},t)},mutedWorker:function(e){this.options.muted=e,this.html.used&&this._html_setProperty("muted",e),this.aurora.used&&this._aurora_mute(e),this.flash.used&&this._flash_mute(e),this.html.video.gate||this.html.audio.gate||(this._updateMute(e),this._updateVolume(this.options.volume),this._trigger(t.jPlayer.event.volumechange))},mute:function(t){"object"==typeof t&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(t=t===e||!!t,this._muted(t))},unmute:function(t){t=t===e||!!t,this._muted(!t)},_updateMute:function(t){t===e&&(t=this.options.muted),t?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):t?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(t){this.volumeWorker(t),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},t)},volumeWorker:function(e){e=this._limitValue(e,0,1),this.options.volume=e,this.html.used&&this._html_setProperty("volume",e),this.aurora.used&&this._aurora_volume(e),this.flash.used&&this._flash_volume(e),this.html.video.gate||this.html.audio.gate||(this._updateVolume(e),this._trigger(t.jPlayer.event.volumechange))},volumeBar:function(e){if(this.css.jq.volumeBar.length){var i=t(e.currentTarget),s=i.offset(),n=e.pageX-s.left,r=i.width(),a=i.height()-e.pageY+s.top,o=i.height();this.volume(this.options.verticalVolume?a/o:n/r)}this.options.muted&&this._muted(!1)},_updateVolume:function(t){t===e&&(t=this.options.volume),t=this.options.muted?0:t,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*t+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(e){var i=this;this.options.cssSelectorAncestor=e,this._removeUiClass(),this.ancestorJq=e?t(e):[],e&&1!==this.ancestorJq.length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),t.each(this.options.cssSelector,function(t,e){i._cssSelector(t,e)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(e,i){var s=this;if("string"==typeof i)if(t.jPlayer.prototype.options.cssSelector[e]){if(this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer"),this.options.cssSelector[e]=i,this.css.cs[e]=this.options.cssSelectorAncestor+" "+i,this.css.jq[e]=i?t(this.css.cs[e]):[],this.css.jq[e].length&&this[e]){this.css.jq[e].bind("click.jPlayer",function(i){i.preventDefault(),s[e](i),s.options.autoBlur?t(this).blur():t(this).focus()})}i&&1!==this.css.jq[e].length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:t.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_STRING,context:i,message:t.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:t.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(t){this.options.toggleDuration&&(this.options.captureDuration&&t.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(e){if(this.css.jq.seekBar.length){var i=t(e.currentTarget),s=i.offset(),n=100*(e.pageX-s.left)/i.width();this.playHead(n)}},playbackRate:function(t){this._setOption("playbackRate",t)},playbackRateBar:function(e){if(this.css.jq.playbackRateBar.length){var i,s=t(e.currentTarget),n=s.offset(),r=e.pageX-n.left,a=s.width(),o=s.height()-e.pageY+n.top,l=s.height();i=(this.options.verticalPlaybackRate?o/l:r/a)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(i)}},_updatePlaybackRate:function(){var t=(this.options.playbackRate-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*t+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(t){var e="object"==typeof t;this._loop(!(e&&this.options.useStateClassSkin&&this.options.loop))},repeatOff:function(){this._loop(!1)},_loop:function(e){this.options.loop!==e&&(this.options.loop=e,this._updateButtons(),this._trigger(t.jPlayer.event.repeat))},option:function(i,s){var n=i;if(0===arguments.length)return t.extend(!0,{},this.options);if("string"==typeof i){var r=i.split(".");if(s===e){for(var a=t.extend(!0,{},this.options),o=0;o<r.length;o++){if(a[r[o]]===e)return this._warning({type:t.jPlayer.warning.OPTION_KEY,context:i,message:t.jPlayer.warningMsg.OPTION_KEY,hint:t.jPlayer.warningHint.OPTION_KEY}),e;a=a[r[o]]}return a}for(var l=n={},u=0;u<r.length;u++)u<r.length-1?(l[r[u]]={},l=l[r[u]]):l[r[u]]=s}return this._setOptions(n),this},_setOptions:function(e){var i=this;return t.each(e,function(t,e){i._setOption(t,e)}),this},_setOption:function(e,i){var s=this;switch(e){case"volume":this.volume(i);break;case"muted":this._muted(i);break;case"globalVolume":this.options[e]=i;break;case"cssSelectorAncestor":this._cssSelectorAncestor(i);break;case"cssSelector":t.each(i,function(t,e){s._cssSelector(t,e)});break;case"playbackRate":this.options[e]=i=this._limitValue(i,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",i),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[e]=i=this._limitValue(i,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",i),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[e]=i=this._limitValue(i,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[e]=i=this._limitValue(i,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[e]!==i){var n=t.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!n||n&&!this.status.waitForPlay)&&(n||(this.options[e]=i),i?this._requestFullscreen():this._exitFullscreen(),n||this._setOption("fullWindow",i))}break;case"fullWindow":this.options[e]!==i&&(this._removeUiClass(),this.options[e]=i,this._refreshSize());break;case"size":this.options.fullWindow||this.options[e].cssClass===i.cssClass||this._removeUiClass(),this.options[e]=t.extend({},this.options[e],i),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[e].cssClass!==i.cssClass&&this._removeUiClass(),this.options[e]=t.extend({},this.options[e],i),this._refreshSize();break;case"autohide":this.options[e]=t.extend({},this.options[e],i),this._updateAutohide();break;case"loop":this._loop(i);break;case"remainingDuration":this.options[e]=i,this._updateInterface();break;case"toggleDuration":this.options[e]=i;break;case"nativeVideoControls":this.options[e]=t.extend({},this.options[e],i),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[e]=t.extend({},this.options[e],i),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[e]=t.extend({},this.options[e],i),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[e]!==i&&(this.options[e]=i,i?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[e]=t.extend({},this.options[e],i);break;case"keyEnabled":this.options[e]=i,i||this!==t.jPlayer.focus||(t.jPlayer.focus=null);break;case"keyBindings":this.options[e]=t.extend(!0,{},this.options[e],i);break;case"audioFullScreen":this.options[e]=i;break;case"autoBlur":this.options[e]=i}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(t.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var t=this,e=".jPlayerAutohide",i="mousemove.jPlayer"+e,s=function(e){var i,s,n=!1;void 0!==t.internal.mouse?(i=t.internal.mouse.x-e.pageX,s=t.internal.mouse.y-e.pageY,n=Math.floor(i)>0||Math.floor(s)>0):n=!0,t.internal.mouse={x:e.pageX,y:e.pageY},n&&t.css.jq.gui.fadeIn(t.options.autohide.fadeIn,function(){clearTimeout(t.internal.autohideId),t.internal.autohideId=setTimeout(function(){t.css.jq.gui.fadeOut(t.options.autohide.fadeOut)},t.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(e),this.css.jq.gui.unbind(e),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(i,s),this.css.jq.gui.bind(i,s),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(t){"object"==typeof t&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var e=this,i=t.jPlayer.nativeFeatures.fullscreen;i.api.fullscreenEnabled&&i.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){e._fullscreenchange()}),document.addEventListener(i.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var e=t.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(e.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!t.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],i=t.jPlayer.nativeFeatures.fullscreen;i.used.webkitVideo&&(e=this.htmlElement.video),i.api.fullscreenEnabled&&i.api.requestFullscreen(e)},_exitFullscreen:function(){var e,i=t.jPlayer.nativeFeatures.fullscreen;i.used.webkitVideo&&(e=this.htmlElement.video),i.api.fullscreenEnabled&&i.api.exitFullscreen(e)},_html_initMedia:function(e){var i=t(this.htmlElement.media).empty();t.each(e.track||[],function(t,e){var s=document.createElement("track");s.setAttribute("kind",e.kind?e.kind:""),s.setAttribute("src",e.src?e.src:""),s.setAttribute("srclang",e.srclang?e.srclang:""),s.setAttribute("label",e.label?e.label:""),e.def&&s.setAttribute("default",e.def),i.append(s)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(t.jPlayer.event.timeupdate)},_html_setFormat:function(e){var i=this;t.each(this.formats,function(t,s){return i.html.support[s]&&e[s]?(i.status.src=e[s],i.status.format[s]=!0,i.status.formatType=s,!1):void 0})},_html_setAudio:function(t){this._html_setFormat(t),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(t)},_html_setVideo:function(t){this._html_setFormat(t),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(t.poster)?t.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(t)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(t){var e=this,i=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=t;else if(isNaN(t))i.play();else{this.internal.cmdsIgnored&&i.play();try{if(i.seekable&&!("object"==typeof i.seekable&&i.seekable.length>0))throw 1;i.currentTime=t,i.play()}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.play(t)},250))}}this._html_checkWaitForPlay()},_html_pause:function(t){var e=this,i=this.htmlElement.media;if(this.androidFix.play=!1,t>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),i.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=t;else if(!isNaN(t))try{if(i.seekable&&!("object"==typeof i.seekable&&i.seekable.length>0))throw 1;i.currentTime=t}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.pause(t)},250))}t>0&&this._html_checkWaitForPlay()},_html_playHead:function(t){var e=this,i=this.htmlElement.media;this._html_load();try{if("object"==typeof i.seekable&&i.seekable.length>0)i.currentTime=t*i.seekable.end(i.seekable.length-1)/100;else{if(!(i.duration>0)||isNaN(i.duration))throw"e";i.currentTime=t*i.duration/100}}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.playHead(t)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(t,e){this.html.audio.available&&(this.htmlElement.audio[t]=e),this.html.video.available&&(this.htmlElement.video[t]=e)},_aurora_setAudio:function(e){var i=this;t.each(this.formats,function(t,s){return i.aurora.support[s]&&e[s]?(i.status.src=e[s],i.status.format[s]=!0,i.status.formatType=s,!1):void 0}),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(e){this.status.waitForLoad||isNaN(e)||this.aurora.player.seek(e),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(t.jPlayer.event.play)},_aurora_pause:function(e){isNaN(e)||this.aurora.player.seek(1e3*e),this.aurora.player.pause(),e>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(t.jPlayer.event.pause)},_aurora_playHead:function(t){this.aurora.player.duration>0&&this.aurora.player.seek(t*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(t){this.aurora.player.volume=100*t},_aurora_mute:function(t){t?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=t},_flash_setAudio:function(e){var i=this;try{t.each(this.formats,function(t,s){if(i.flash.support[s]&&e[s]){switch(s){case"m4a":case"fla":i._getMovie().fl_setAudio_m4a(e[s]);break;case"mp3":i._getMovie().fl_setAudio_mp3(e[s]);break;case"rtmpa":i._getMovie().fl_setAudio_rtmp(e[s])}return i.status.src=e[s],i.status.format[s]=!0,i.status.formatType=s,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(t){this._flashError(t)}},_flash_setVideo:function(e){var i=this;try{t.each(this.formats,function(t,s){if(i.flash.support[s]&&e[s]){switch(s){case"m4v":case"flv":i._getMovie().fl_setVideo_m4v(e[s]);break;case"rtmpv":i._getMovie().fl_setVideo_rtmp(e[s])}return i.status.src=e[s],i.status.format[s]=!0,i.status.formatType=s,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(t){this._flashError(t)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=!1},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(t){this._flashError(t)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(t){this._flashError(t)}t>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(t){this._flashError(t)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(t){this._flashError(t)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(t){this._flashError(t)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t,e=0;if(window.ActiveXObject)try{if(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var i=t.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),e=parseInt(i[0],10)+"."+parseInt(i[1],10))}}catch(t){}else navigator.plugins&&navigator.mimeTypes.length>0&&(t=navigator.plugins["Shockwave Flash"])&&(e=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1"));return 1*e},_checkForFlash:function(t){var e=!1;return this._getFlashPluginVersion()>=t&&(e=!0),e},_validString:function(t){return t&&"string"==typeof t},_limitValue:function(t,e,i){return e>t?e:t>i?i:t},_urlNotSetError:function(e){this._error({type:t.jPlayer.error.URL_NOT_SET,context:e,message:t.jPlayer.errorMsg.URL_NOT_SET,hint:t.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(e){var i;i=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:t.jPlayer.error[i],context:this.internal.flash.swf,message:t.jPlayer.errorMsg[i]+e.message,hint:t.jPlayer.errorHint[i]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(e){this._trigger(t.jPlayer.event.error,e),this.options.errorAlerts&&this._alert("Error!"+(e.message?"\n"+e.message:"")+(e.hint?"\n"+e.hint:"")+"\nContext: "+e.context)},_warning:function(i){this._trigger(t.jPlayer.event.warning,e,i),this.options.warningAlerts&&this._alert("Warning!"+(i.message?"\n"+i.message:"")+(i.hint?"\n"+i.hint:"")+"\nContext: "+i.context)},_alert:function(t){var e="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+t;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(e):alert(e)},_emulateHtmlBridge:function(){var e=this;t.each(t.jPlayer.emulateMethods.split(/\s+/g),function(t,i){e.internal.domNode[i]=function(t){e[i](t)}}),t.each(t.jPlayer.event,function(i,s){var n=!0;t.each(t.jPlayer.reservedEvent.split(/\s+/g),function(t,e){return e===i?(n=!1,!1):void 0}),n&&e.element.bind(s+".jPlayer.jPlayerHtml",function(){e._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(i,!1,!0),e.internal.domNode.dispatchEvent(t)})})},_emulateHtmlUpdate:function(){var e=this;t.each(t.jPlayer.emulateStatus.split(/\s+/g),function(t,i){e.internal.domNode[i]=e.status[i]}),t.each(t.jPlayer.emulateOptions.split(/\s+/g),function(t,i){e.internal.domNode[i]=e.options[i]})},_destroyHtmlBridge:function(){var e=this;this.element.unbind(".jPlayerHtml");var i=t.jPlayer.emulateMethods+" "+t.jPlayer.emulateStatus+" "+t.jPlayer.emulateOptions;t.each(i.split(/\s+/g),function(t,i){delete e.internal.domNode[i]})}},t.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},t.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+t.jPlayer.prototype.version.script+" needs Jplayer.swf version "+t.jPlayer.prototype.version.needFlash+" but found "},t.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},t.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},t.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},t.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}}),function(t){define("jplayerplaylistscript",[],function(){return function(){!function(t,e){jPlayerPlaylist=function(e,i,s){var n=this;this.current=0,this.loop=!1,this.shuffled=!1,this.removing=!1,this.cssSelector=t.extend({},this._cssSelector,e),this.options=t.extend(!0,{keyBindings:{next:{key:221,fn:function(){n.next()}},previous:{key:219,fn:function(){n.previous()}},shuffle:{key:83,fn:function(){n.shuffle()}}},stateClass:{shuffled:"jp-state-shuffled"}},this._options,s),this.playlist=[],this.original=[],this._initPlaylist(i),this.cssSelector.details=this.cssSelector.cssSelectorAncestor+" .jp-details",this.cssSelector.playlist=this.cssSelector.cssSelectorAncestor+" .jp-playlist",this.cssSelector.next=this.cssSelector.cssSelectorAncestor+" .jp-next",this.cssSelector.previous=this.cssSelector.cssSelectorAncestor+" .jp-previous",this.cssSelector.shuffle=this.cssSelector.cssSelectorAncestor+" .jp-shuffle",this.cssSelector.shuffleOff=this.cssSelector.cssSelectorAncestor+" .jp-shuffle-off",this.options.cssSelectorAncestor=this.cssSelector.cssSelectorAncestor,this.options.repeat=function(t){n.loop=t.jPlayer.options.loop},t(this.cssSelector.jPlayer).bind(t.jPlayer.event.ready,function(){n._init()}),t(this.cssSelector.jPlayer).bind(t.jPlayer.event.ended,function(){n.next()}),t(this.cssSelector.jPlayer).bind(t.jPlayer.event.play,function(){t(this).jPlayer("pauseOthers")}),t(this.cssSelector.jPlayer).bind(t.jPlayer.event.resize,function(e){e.jPlayer.options.fullScreen?t(n.cssSelector.details).show():t(n.cssSelector.details).hide()}),t(this.cssSelector.previous).click(function(t){t.preventDefault(),n.previous(),n.blur(this)}),t(this.cssSelector.next).click(function(t){t.preventDefault(),n.next(),n.blur(this)}),t(this.cssSelector.shuffle).click(function(e){e.preventDefault(),n.shuffle(!n.shuffled||!t(n.cssSelector.jPlayer).jPlayer("option","useStateClassSkin")),n.blur(this)}),t(this.cssSelector.shuffleOff).click(function(t){t.preventDefault(),n.shuffle(!1),n.blur(this)}).hide(),this.options.fullScreen||t(this.cssSelector.details).hide(),t(this.cssSelector.playlist+" ul").empty(),this._createItemHandlers(),t(this.cssSelector.jPlayer).jPlayer(this.options)},jPlayerPlaylist.prototype={_cssSelector:{jPlayer:"#jquery_jplayer_1",cssSelectorAncestor:"#jp_container_1"},_options:{playlistOptions:{autoPlay:!1,loopOnPrevious:!1,shuffleOnLoop:!0,enableRemoveControls:!1,displayTime:"slow",addTime:"fast",removeTime:"fast",shuffleTime:"slow",itemClass:"jp-playlist-item",freeGroupClass:"jp-free-media",freeItemClass:"jp-playlist-item-free",removeItemClass:"jp-playlist-item-remove"}},option:function(t,i){if(i===e)return this.options.playlistOptions[t];switch(this.options.playlistOptions[t]=i,t){case"enableRemoveControls":this._updateControls();break;case"itemClass":case"freeGroupClass":case"freeItemClass":case"removeItemClass":this._refresh(!0),this._createItemHandlers()}return this},_init:function(){var t=this;this._refresh(function(){t.options.playlistOptions.autoPlay?t.play(t.current):t.select(t.current)})},_initPlaylist:function(e){this.current=0,this.shuffled=!1,this.removing=!1,this.original=t.extend(!0,[],e),this._originalPlaylist()},_originalPlaylist:function(){var e=this;this.playlist=[],t.each(this.original,function(t){e.playlist[t]=e.original[t]})},_refresh:function(e){var i=this;if(e&&!t.isFunction(e))t(this.cssSelector.playlist+" ul").empty(),t.each(this.playlist,function(e){t(i.cssSelector.playlist+" ul").append(i._createListItem(i.playlist[e]))}),this._updateControls();else{var s=t(this.cssSelector.playlist+" ul").children().length?this.options.playlistOptions.displayTime:0;t(this.cssSelector.playlist+" ul").slideUp(s,function(){var s=t(this);t(this).empty(),t.each(i.playlist,function(t){s.append(i._createListItem(i.playlist[t]))}),i._updateControls(),t.isFunction(e)&&e(),i.playlist.length?t(this).slideDown(i.options.playlistOptions.displayTime):t(this).show()})}},_createListItem:function(e){var i=this,s="<li><div>";if(s+="<a href='javascript:;' class='"+this.options.playlistOptions.removeItemClass+"'>&times;</a>",e.free){var n=!0;s+="<span class='"+this.options.playlistOptions.freeGroupClass+"'>(",t.each(e,function(e,r){t.jPlayer.prototype.format[e]&&(n?n=!1:s+=" | ",s+="<a class='"+i.options.playlistOptions.freeItemClass+"' href='"+r+"' tabindex='-1'>"+e+"</a>")}),s+=")</span>"}return s+="<a href='javascript:;' class='"+this.options.playlistOptions.itemClass+"' tabindex='0'>"+e.title+(e.artist?" <span class='jp-artist'>by "+e.artist+"</span>":"")+"</a>",s+="</div></li>"},_createItemHandlers:function(){var e=this;t(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.itemClass).on("click","a."+this.options.playlistOptions.itemClass,function(i){i.preventDefault();var s=t(this).parent().parent().index();e.current!==s?e.play(s):t(e.cssSelector.jPlayer).jPlayer("play"),e.blur(this)}),t(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.freeItemClass).on("click","a."+this.options.playlistOptions.freeItemClass,function(i){i.preventDefault(),t(this).parent().parent().find("."+e.options.playlistOptions.itemClass).click(),e.blur(this)}),t(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.removeItemClass).on("click","a."+this.options.playlistOptions.removeItemClass,function(i){i.preventDefault();var s=t(this).parent().parent().index();e.remove(s),e.blur(this)})},_updateControls:function(){this.options.playlistOptions.enableRemoveControls?t(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).show():t(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).hide(),this.shuffled?t(this.cssSelector.jPlayer).jPlayer("addStateClass","shuffled"):t(this.cssSelector.jPlayer).jPlayer("removeStateClass","shuffled"),t(this.cssSelector.shuffle).length&&t(this.cssSelector.shuffleOff).length&&(this.shuffled?(t(this.cssSelector.shuffleOff).show(),t(this.cssSelector.shuffle).hide()):(t(this.cssSelector.shuffleOff).hide(),t(this.cssSelector.shuffle).show()))},_highlight:function(i){this.playlist.length&&i!==e&&(t(this.cssSelector.playlist+" .jp-playlist-current").removeClass("jp-playlist-current"),t(this.cssSelector.playlist+" li:nth-child("+(i+1)+")").addClass("jp-playlist-current").find(".jp-playlist-item").addClass("jp-playlist-current"))},setPlaylist:function(t){this._initPlaylist(t),this._init()},add:function(e,i){t(this.cssSelector.playlist+" ul").append(this._createListItem(e)).find("li:last-child").hide().slideDown(this.options.playlistOptions.addTime),this._updateControls(),this.original.push(e),this.playlist.push(e),i?this.play(this.playlist.length-1):1===this.original.length&&this.select(0)},remove:function(i){var s=this;return i===e?(this._initPlaylist([]),this._refresh(function(){t(s.cssSelector.jPlayer).jPlayer("clearMedia")}),!0):!this.removing&&((i=0>i?s.original.length+i:i)>=0&&i<this.playlist.length&&(this.removing=!0,t(this.cssSelector.playlist+" li:nth-child("+(i+1)+")").slideUp(this.options.playlistOptions.removeTime,function(){if(t(this).remove(),s.shuffled){var e=s.playlist[i];t.each(s.original,function(t){return s.original[t]===e?(s.original.splice(t,1),!1):void 0}),s.playlist.splice(i,1)}else s.original.splice(i,1),s.playlist.splice(i,1);s.original.length?i===s.current?(s.current=i<s.original.length?s.current:s.original.length-1,s.select(s.current)):i<s.current&&s.current--:(t(s.cssSelector.jPlayer).jPlayer("clearMedia"),s.current=0,s.shuffled=!1,s._updateControls()),s.removing=!1})),!0)},select:function(e){(e=0>e?this.original.length+e:e)>=0&&e<this.playlist.length?(this.current=e,this._highlight(e),t(this.cssSelector.jPlayer).jPlayer("setMedia",this.playlist[this.current])):this.current=0},play:function(i){(i=0>i?this.original.length+i:i)>=0&&i<this.playlist.length?this.playlist.length&&(this.select(i),t(this.cssSelector.jPlayer).jPlayer("play")):i===e&&t(this.cssSelector.jPlayer).jPlayer("play")},pause:function(){t(this.cssSelector.jPlayer).jPlayer("pause")},next:function(){var t=this.current+1<this.playlist.length?this.current+1:0;this.loop?0===t&&this.shuffled&&this.options.playlistOptions.shuffleOnLoop&&this.playlist.length>1?this.shuffle(!0,!0):this.play(t):t>0&&this.play(t)},previous:function(){var t=this.current-1>=0?this.current-1:this.playlist.length-1;(this.loop&&this.options.playlistOptions.loopOnPrevious||t<this.playlist.length-1)&&this.play(t)},shuffle:function(i,s){var n=this;i===e&&(i=!this.shuffled),(i||i!==this.shuffled)&&t(this.cssSelector.playlist+" ul").slideUp(this.options.playlistOptions.shuffleTime,function(){n.shuffled=i,i?n.playlist.sort(function(){return.5-Math.random()}):n._originalPlaylist(),n._refresh(!0),s||!t(n.cssSelector.jPlayer).data("jPlayer").status.paused?n.play(0):n.select(0),t(this).slideDown(n.options.playlistOptions.shuffleTime)})},blur:function(e){t(this.cssSelector.jPlayer).jPlayer("option","autoBlur")&&t(e).blur()}}}(jQuery)}.apply(t,arguments)})}(this),function(){function t(t){function e(e,i,s,n,r,a){for(;r>=0&&r<a;r+=t){var o=n?n[r]:r;s=i(s,e[o],o,e)}return s}return function(i,s,n,r){s=_(s,r,4);var a=!E(i)&&g.keys(i),o=(a||i).length,l=t>0?0:o-1;return arguments.length<3&&(n=i[a?a[l]:l],l+=t),e(i,s,n,a,l,o)}}function e(t){return function(e,i,s){i=b(i,s);for(var n=k(e),r=t>0?0:n-1;r>=0&&r<n;r+=t)if(i(e[r],r,e))return r;return-1}}function i(t,e,i){return function(s,n,r){var a=0,o=k(s);if("number"==typeof r)t>0?a=r>=0?r:Math.max(r+o,a):o=r>=0?Math.min(r+1,o):r+o+1;else if(i&&r&&o)return r=i(s,n),s[r]===n?r:-1;if(n!==n)return(r=e(c.call(s,a,o),g.isNaN))>=0?r+a:-1;for(r=t>0?a:o-1;r>=0&&r<o;r+=t)if(s[r]===n)return r;return-1}}function s(t,e){var i=T.length,s=t.constructor,n=g.isFunction(s)&&s.prototype||o,r="constructor";for(g.has(t,r)&&!g.contains(e,r)&&e.push(r);i--;)(r=T[i])in t&&t[r]!==n[r]&&!g.contains(e,r)&&e.push(r)}var n=this,r=n._,a=Array.prototype,o=Object.prototype,l=Function.prototype,u=a.push,c=a.slice,h=o.toString,d=o.hasOwnProperty,p=Array.isArray,f=Object.keys,m=l.bind,y=Object.create,v=function(){},g=function(t){return t instanceof g?t:this instanceof g?void(this._wrapped=t):new g(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=g),exports._=g):n._=g,g.VERSION="1.8.3";var _=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,s){return t.call(e,i,s)};case 3:return function(i,s,n){return t.call(e,i,s,n)};case 4:return function(i,s,n,r){return t.call(e,i,s,n,r)}}return function(){return t.apply(e,arguments)}},b=function(t,e,i){return null==t?g.identity:g.isFunction(t)?_(t,e,i):g.isObject(t)?g.matcher(t):g.property(t)};g.iteratee=function(t,e){return b(t,e,1/0)};var j=function(t,e){return function(i){var s=arguments.length;if(s<2||null==i)return i;for(var n=1;n<s;n++)for(var r=arguments[n],a=t(r),o=a.length,l=0;l<o;l++){var u=a[l];e&&void 0!==i[u]||(i[u]=r[u])}return i}},w=function(t){if(!g.isObject(t))return{};if(y)return y(t);v.prototype=t;var e=new v;return v.prototype=null,e},P=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,k=P("length"),E=function(t){var e=k(t);return"number"==typeof e&&e>=0&&e<=S};g.each=g.forEach=function(t,e,i){e=_(e,i);var s,n;if(E(t))for(s=0,n=t.length;s<n;s++)e(t[s],s,t);else{var r=g.keys(t);for(s=0,n=r.length;s<n;s++)e(t[r[s]],r[s],t)}return t},g.map=g.collect=function(t,e,i){e=b(e,i);for(var s=!E(t)&&g.keys(t),n=(s||t).length,r=Array(n),a=0;a<n;a++){var o=s?s[a]:a;r[a]=e(t[o],o,t)}return r},g.reduce=g.foldl=g.inject=t(1),g.reduceRight=g.foldr=t(-1),g.find=g.detect=function(t,e,i){var s;if(void 0!==(s=E(t)?g.findIndex(t,e,i):g.findKey(t,e,i))&&-1!==s)return t[s]},g.filter=g.select=function(t,e,i){var s=[];return e=b(e,i),g.each(t,function(t,i,n){e(t,i,n)&&s.push(t)}),s},g.reject=function(t,e,i){return g.filter(t,g.negate(b(e)),i)},g.every=g.all=function(t,e,i){e=b(e,i);for(var s=!E(t)&&g.keys(t),n=(s||t).length,r=0;r<n;r++){var a=s?s[r]:r;if(!e(t[a],a,t))return!1}return!0},g.some=g.any=function(t,e,i){e=b(e,i);for(var s=!E(t)&&g.keys(t),n=(s||t).length,r=0;r<n;r++){var a=s?s[r]:r;if(e(t[a],a,t))return!0}return!1},g.contains=g.includes=g.include=function(t,e,i,s){return E(t)||(t=g.values(t)),("number"!=typeof i||s)&&(i=0),g.indexOf(t,e,i)>=0},g.invoke=function(t,e){var i=c.call(arguments,2),s=g.isFunction(e);return g.map(t,function(t){var n=s?e:t[e];return null==n?n:n.apply(t,i)})},g.pluck=function(t,e){return g.map(t,g.property(e))},g.where=function(t,e){return g.filter(t,g.matcher(e))},g.findWhere=function(t,e){return g.find(t,g.matcher(e))},g.max=function(t,e,i){var s,n,r=-1/0,a=-1/0;if(null==e&&null!=t)for(var o=0,l=(t=E(t)?t:g.values(t)).length;o<l;o++)(s=t[o])>r&&(r=s);else e=b(e,i),g.each(t,function(t,i,s){((n=e(t,i,s))>a||n===-1/0&&r===-1/0)&&(r=t,a=n)});return r},g.min=function(t,e,i){var s,n,r=1/0,a=1/0;if(null==e&&null!=t)for(var o=0,l=(t=E(t)?t:g.values(t)).length;o<l;o++)(s=t[o])<r&&(r=s);else e=b(e,i),g.each(t,function(t,i,s){((n=e(t,i,s))<a||n===1/0&&r===1/0)&&(r=t,a=n)});return r},g.shuffle=function(t){for(var e,i=E(t)?t:g.values(t),s=i.length,n=Array(s),r=0;r<s;r++)(e=g.random(0,r))!==r&&(n[r]=n[e]),n[e]=i[r];return n},g.sample=function(t,e,i){return null==e||i?(E(t)||(t=g.values(t)),t[g.random(t.length-1)]):g.shuffle(t).slice(0,Math.max(0,e))},g.sortBy=function(t,e,i){return e=b(e,i),g.pluck(g.map(t,function(t,i,s){return{value:t,index:i,criteria:e(t,i,s)}}).sort(function(t,e){var i=t.criteria,s=e.criteria;if(i!==s){if(i>s||void 0===i)return 1;if(i<s||void 0===s)return-1}return t.index-e.index}),"value")};var x=function(t){return function(e,i,s){var n={};return i=b(i,s),g.each(e,function(s,r){var a=i(s,r,e);t(n,s,a)}),n}};g.groupBy=x(function(t,e,i){g.has(t,i)?t[i].push(e):t[i]=[e]}),g.indexBy=x(function(t,e,i){t[i]=e}),g.countBy=x(function(t,e,i){g.has(t,i)?t[i]++:t[i]=1}),g.toArray=function(t){return t?g.isArray(t)?c.call(t):E(t)?g.map(t,g.identity):g.values(t):[]},g.size=function(t){return null==t?0:E(t)?t.length:g.keys(t).length},g.partition=function(t,e,i){e=b(e,i);var s=[],n=[];return g.each(t,function(t,i,r){(e(t,i,r)?s:n).push(t)}),[s,n]},g.first=g.head=g.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:g.initial(t,t.length-e)},g.initial=function(t,e,i){return c.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},g.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:g.rest(t,Math.max(0,t.length-e))},g.rest=g.tail=g.drop=function(t,e,i){return c.call(t,null==e||i?1:e)},g.compact=function(t){return g.filter(t,g.identity)};var C=function(t,e,i,s){for(var n=[],r=0,a=s||0,o=k(t);a<o;a++){var l=t[a];if(E(l)&&(g.isArray(l)||g.isArguments(l))){e||(l=C(l,e,i));var u=0,c=l.length;for(n.length+=c;u<c;)n[r++]=l[u++]}else i||(n[r++]=l)}return n};g.flatten=function(t,e){return C(t,e,!1)},g.without=function(t){return g.difference(t,c.call(arguments,1))},g.uniq=g.unique=function(t,e,i,s){g.isBoolean(e)||(s=i,i=e,e=!1),null!=i&&(i=b(i,s));for(var n=[],r=[],a=0,o=k(t);a<o;a++){var l=t[a],u=i?i(l,a,t):l;e?(a&&r===u||n.push(l),r=u):i?g.contains(r,u)||(r.push(u),n.push(l)):g.contains(n,l)||n.push(l)}return n},g.union=function(){return g.uniq(C(arguments,!0,!0))},g.intersection=function(t){for(var e=[],i=arguments.length,s=0,n=k(t);s<n;s++){var r=t[s];if(!g.contains(e,r)){for(var a=1;a<i&&g.contains(arguments[a],r);a++);a===i&&e.push(r)}}return e},g.difference=function(t){var e=C(arguments,!0,!0,1);return g.filter(t,function(t){return!g.contains(e,t)})},g.zip=function(){return g.unzip(arguments)},g.unzip=function(t){for(var e=t&&g.max(t,k).length||0,i=Array(e),s=0;s<e;s++)i[s]=g.pluck(t,s);return i},g.object=function(t,e){for(var i={},s=0,n=k(t);s<n;s++)e?i[t[s]]=e[s]:i[t[s][0]]=t[s][1];return i},g.findIndex=e(1),g.findLastIndex=e(-1),g.sortedIndex=function(t,e,i,s){for(var n=(i=b(i,s,1))(e),r=0,a=k(t);r<a;){var o=Math.floor((r+a)/2);i(t[o])<n?r=o+1:a=o}return r},g.indexOf=i(1,g.findIndex,g.sortedIndex),g.lastIndexOf=i(-1,g.findLastIndex),g.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var s=Math.max(Math.ceil((e-t)/i),0),n=Array(s),r=0;r<s;r++,t+=i)n[r]=t;return n};var q=function(t,e,i,s,n){if(!(s instanceof e))return t.apply(i,n);var r=w(t.prototype),a=t.apply(r,n);return g.isObject(a)?a:r};g.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,c.call(arguments,1));if(!g.isFunction(t))throw new TypeError("Bind must be called on a function");var i=c.call(arguments,2),s=function(){return q(t,s,e,this,i.concat(c.call(arguments)))};return s},g.partial=function(t){var e=c.call(arguments,1),i=function(){for(var s=0,n=e.length,r=Array(n),a=0;a<n;a++)r[a]=e[a]===g?arguments[s++]:e[a];for(;s<arguments.length;)r.push(arguments[s++]);return q(t,i,this,this,r)};return i},g.bindAll=function(t){var e,i,s=arguments.length;if(s<=1)throw new Error("bindAll must be passed function names");for(e=1;e<s;e++)t[i=arguments[e]]=g.bind(t[i],t);return t},g.memoize=function(t,e){var i=function(s){var n=i.cache,r=""+(e?e.apply(this,arguments):s);return g.has(n,r)||(n[r]=t.apply(this,arguments)),n[r]};return i.cache={},i},g.delay=function(t,e){var i=c.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},g.defer=g.partial(g.delay,g,1),g.throttle=function(t,e,i){var s,n,r,a=null,o=0;i||(i={});var l=function(){o=!1===i.leading?0:g.now(),a=null,r=t.apply(s,n),a||(s=n=null)};return function(){var u=g.now();o||!1!==i.leading||(o=u);var c=e-(u-o);return s=this,n=arguments,c<=0||c>e?(a&&(clearTimeout(a),a=null),o=u,r=t.apply(s,n),a||(s=n=null)):a||!1===i.trailing||(a=setTimeout(l,c)),r}},g.debounce=function(t,e,i){var s,n,r,a,o,l=function(){var u=g.now()-a;u<e&&u>=0?s=setTimeout(l,e-u):(s=null,i||(o=t.apply(r,n),s||(r=n=null)))};return function(){r=this,n=arguments,a=g.now();var u=i&&!s;return s||(s=setTimeout(l,e)),u&&(o=t.apply(r,n),r=n=null),o}},g.wrap=function(t,e){return g.partial(e,t)},g.negate=function(t){return function(){return!t.apply(this,arguments)}},g.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,s=t[e].apply(this,arguments);i--;)s=t[i].call(this,s);return s}},g.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},g.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},g.once=g.partial(g.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),T=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];g.keys=function(t){if(!g.isObject(t))return[];if(f)return f(t);var e=[];for(var i in t)g.has(t,i)&&e.push(i);return O&&s(t,e),e},g.allKeys=function(t){if(!g.isObject(t))return[];var e=[];for(var i in t)e.push(i);return O&&s(t,e),e},g.values=function(t){for(var e=g.keys(t),i=e.length,s=Array(i),n=0;n<i;n++)s[n]=t[e[n]];return s},g.mapObject=function(t,e,i){e=b(e,i);for(var s,n=g.keys(t),r=n.length,a={},o=0;o<r;o++)a[s=n[o]]=e(t[s],s,t);return a},g.pairs=function(t){for(var e=g.keys(t),i=e.length,s=Array(i),n=0;n<i;n++)s[n]=[e[n],t[e[n]]];return s},g.invert=function(t){for(var e={},i=g.keys(t),s=0,n=i.length;s<n;s++)e[t[i[s]]]=i[s];return e},g.functions=g.methods=function(t){var e=[];for(var i in t)g.isFunction(t[i])&&e.push(i);return e.sort()},g.extend=j(g.allKeys),g.extendOwn=g.assign=j(g.keys),g.findKey=function(t,e,i){e=b(e,i);for(var s,n=g.keys(t),r=0,a=n.length;r<a;r++)if(s=n[r],e(t[s],s,t))return s},g.pick=function(t,e,i){var s,n,r={},a=t;if(null==a)return r;g.isFunction(e)?(n=g.allKeys(a),s=_(e,i)):(n=C(arguments,!1,!1,1),s=function(t,e,i){return e in i},a=Object(a));for(var o=0,l=n.length;o<l;o++){var u=n[o],c=a[u];s(c,u,a)&&(r[u]=c)}return r},g.omit=function(t,e,i){if(g.isFunction(e))e=g.negate(e);else{var s=g.map(C(arguments,!1,!1,1),String);e=function(t,e){return!g.contains(s,e)}}return g.pick(t,e,i)},g.defaults=j(g.allKeys,!0),g.create=function(t,e){var i=w(t);return e&&g.extendOwn(i,e),i},g.clone=function(t){return g.isObject(t)?g.isArray(t)?t.slice():g.extend({},t):t},g.tap=function(t,e){return e(t),t},g.isMatch=function(t,e){var i=g.keys(e),s=i.length;if(null==t)return!s;for(var n=Object(t),r=0;r<s;r++){var a=i[r];if(e[a]!==n[a]||!(a in n))return!1}return!0};var A=function(t,e,i,s){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof g&&(t=t._wrapped),e instanceof g&&(e=e._wrapped);var n=h.call(t);if(n!==h.call(e))return!1;switch(n){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var r="[object Array]"===n;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,o=e.constructor;if(a!==o&&!(g.isFunction(a)&&a instanceof a&&g.isFunction(o)&&o instanceof o)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],s=s||[];for(var l=i.length;l--;)if(i[l]===t)return s[l]===e;if(i.push(t),s.push(e),r){if((l=t.length)!==e.length)return!1;for(;l--;)if(!A(t[l],e[l],i,s))return!1}else{var u,c=g.keys(t);if(l=c.length,g.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!g.has(e,u)||!A(t[u],e[u],i,s))return!1}return i.pop(),s.pop(),!0};g.isEqual=function(t,e){return A(t,e)},g.isEmpty=function(t){return null==t||(E(t)&&(g.isArray(t)||g.isString(t)||g.isArguments(t))?0===t.length:0===g.keys(t).length)},g.isElement=function(t){return!(!t||1!==t.nodeType)},g.isArray=p||function(t){return"[object Array]"===h.call(t)},g.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},g.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){g["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),g.isArguments(arguments)||(g.isArguments=function(t){return g.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(g.isFunction=function(t){return"function"==typeof t||!1}),g.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},g.isNaN=function(t){return g.isNumber(t)&&t!==+t},g.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},g.isNull=function(t){return null===t},g.isUndefined=function(t){return void 0===t},g.has=function(t,e){return null!=t&&d.call(t,e)},g.noConflict=function(){return n._=r,this},g.identity=function(t){return t},g.constant=function(t){return function(){return t}},g.noop=function(){},g.property=P,g.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},g.matcher=g.matches=function(t){return t=g.extendOwn({},t),function(e){return g.isMatch(e,t)}},g.times=function(t,e,i){var s=Array(Math.max(0,t));e=_(e,i,1);for(var n=0;n<t;n++)s[n]=e(n);return s},g.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},g.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=g.invert(R),L=function(t){var e=function(e){return t[e]},i="(?:"+g.keys(t).join("|")+")",s=RegExp(i),n=RegExp(i,"g");return function(t){return t=null==t?"":""+t,s.test(t)?t.replace(n,e):t}};g.escape=L(R),g.unescape=L(F),g.result=function(t,e,i){var s=null==t?void 0:t[e];return void 0===s&&(s=i),g.isFunction(s)?s.call(t):s};var N=0;g.uniqueId=function(t){var e=++N+"";return t?t+e:e},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+I[t]};g.template=function(t,e,i){!e&&i&&(e=i),e=g.defaults({},e,g.templateSettings);var s=RegExp([(e.escape||M).source,(e.interpolate||M).source,(e.evaluate||M).source].join("|")+"|$","g"),n=0,r="__p+='";t.replace(s,function(e,i,s,a,o){return r+=t.slice(n,o).replace(B,U),n=o+e.length,i?r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":s?r+="'+\n((__t=("+s+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(e.variable||"obj","_",r)}catch(t){throw t.source=r,t}var o=function(t){return a.call(this,t,g)},l=e.variable||"obj";return o.source="function("+l+"){\n"+r+"}",o},g.chain=function(t){var e=g(t);return e._chain=!0,e};var H=function(t,e){return t._chain?g(e).chain():e};g.mixin=function(t){g.each(g.functions(t),function(e){var i=g[e]=t[e];g.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),H(this,i.apply(g,t))}})},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];g.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],H(this,i)}}),g.each(["concat","join","slice"],function(t){var e=a[t];g.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return g})}.call(this),function(){function t(){}function e(){}function i(t,e){this._loggers={},this.name=t||"",this._parent=e||null,e||(this._enabled=!0,this._level=a.WARN)}function s(t){r=t}Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,s=function(){},n=function(){return i.apply(this instanceof s&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return s.prototype=this.prototype,n.prototype=new s,n});var n,r,a={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};t.prototype={output:function(t,e,i){if(void 0!==window.console&&void 0!==console.log){t&&i.unshift(t+":");var s=i.join(" ");if(void 0===typeof console.info){var n;n=e<=a.DEBUG?"DEBUG":e<=a.INFO?"INFO":e<=a.WARN?"WARN":e<=a.ERROR?"ERROR":"FATAL",console.log("["+n+"] "+s)}else e<=a.DEBUG?(s="[DEBUG] "+s,console.log(s)):e<=a.INFO?console.info(s):e<=a.WARN?console.warn(s):console.error(s)}}},e.prototype={output:function(t,e,i){t&&i.unshift(t+":"),e<=a.DEBUG?(i.unshift("[DEBUG]"),console.log.apply(console,i)):e<=a.INFO?console.info.apply(console,i):e<=a.WARN?console.warn.apply(console,i):console.error.apply(console,i)}},i.prototype={getLogger:function(t){for(var e=t.split("."),s=this,n=this.name?[this.name]:[];e.length;){var r=e.shift();n.push(r),r in s._loggers||(s._loggers[r]=new i(n.join("."),s)),s=s._loggers[r]}return s},_getFlag:function(t){var e=this;for(t="_"+t;null!==e;){if(void 0!==e[t])return e[t];e=e._parent}return null},setEnabled:function(t){this._enabled=!!t},isEnabled:function(){this._getFlag("enabled")},setLevel:function(t){"number"==typeof t?this._level=t:"string"==typeof t&&(t=t.toUpperCase())in a&&(this._level=a[t])},getLevel:function(){return this._getFlag("level")},log:function(t,e){!e.length||!this._getFlag("enabled")||t<this._getFlag("level")||(e=Array.prototype.slice.call(e),r.output(this.name,t,e))},debug:function(){this.log(a.DEBUG,arguments)},info:function(){this.log(a.INFO,arguments)},warn:function(){this.log(a.WARN,arguments)},error:function(){this.log(a.ERROR,arguments)},fatal:function(){this.log(a.FATAL,arguments)}},s(window.console&&window.console.log&&"function"==typeof window.console.log.apply?new e:new t),n=new i;for(var o,l=/loglevel(|-[^=]+)=([^&]+)/g;null!==(o=l.exec(window.location.search));)(""===o[1]?n:n.getLogger(o[1].slice(1))).setLevel(o[2].toUpperCase());var u={Level:a,getLogger:n.getLogger.bind(n),setEnabled:n.setEnabled.bind(n),isEnabled:n.isEnabled.bind(n),setLevel:n.setLevel.bind(n),getLevel:n.getLevel.bind(n),debug:n.debug.bind(n),info:n.info.bind(n),warn:n.warn.bind(n),error:n.error.bind(n),fatal:n.fatal.bind(n),getWriter:function(){return r},setWriter:s};"function"==typeof define?define("logging",[],function(){return u}):window.logging=u}(),define("pat-logger",["logging"],function(t){return t.getLogger("patterns")}),function(t){"function"==typeof define&&define.amd?define("jquery.browser",["jquery"],function(e){return t(e)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(t){"use strict";function e(t){void 0===t&&(t=window.navigator.userAgent),t=t.toLowerCase();var e=/(edge)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],i=/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(windows phone)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[],s={},n={browser:e[5]||e[3]||e[1]||"",version:e[2]||e[4]||"0",versionNumber:e[4]||e[2]||"0",platform:i[0]||""};if(n.browser&&(s[n.browser]=!0,s.version=n.version,s.versionNumber=parseInt(n.versionNumber,10)),n.platform&&(s[n.platform]=!0),(s.android||s.bb||s.blackberry||s.ipad||s.iphone||s.ipod||s.kindle||s.playbook||s.silk||s["windows phone"])&&(s.mobile=!0),(s.cros||s.mac||s.linux||s.win)&&(s.desktop=!0),(s.chrome||s.opr||s.safari)&&(s.webkit=!0),s.rv||s.edge){n.browser="msie",s.msie=!0}if(s.safari&&s.blackberry){n.browser="blackberry",s.blackberry=!0}if(s.safari&&s.playbook){n.browser="playbook",s.playbook=!0}if(s.bb){var r="blackberry";n.browser=r,s[r]=!0}if(s.opr){n.browser="opera",s.opera=!0}if(s.safari&&s.android){n.browser="android",s.android=!0}if(s.safari&&s.kindle){n.browser="kindle",s.kindle=!0}if(s.safari&&s.silk){n.browser="silk",s.silk=!0}return s.name=n.browser,s.platform=n.platform,s}return window.jQBrowser=e(window.navigator.userAgent),window.jQBrowser.uaMatch=e,t&&(t.browser=window.jQBrowser),window.jQBrowser}),define("pat-utils",["jquery","jquery.browser","underscore"],function(t){function e(t){var e=typeof t;return"function"===e||"object"===e&&!!t}t.fn.safeClone=function(){var e=this.clone();return void 0!==t.browser.msie&&e.findInclusive(":input[placeholder]").each(function(e,i){var s=t(i);s.attr("placeholder")===s.val()&&s.val("")}),e},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,s;if(null===this)throw new TypeError(" this is null or not defined");var n=Object(this),r=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(i=e),s=0;s<r;){var a;s in n&&(a=n[s],t.call(i,a,s,n)),s++}});var i=function(e,i,s){var n=this;return n.each(function(){var n,r=t(this);if(n=e.init(r,s),i){if(void 0===n[i])return t.error("Method "+i+" does not exist on jQuery."+e.name),!1;if("_"===i.charAt(0))return t.error("Method "+i+" is private on jQuery."+e.name),!1;n[i].apply(n,[s])}}),n},s=function(e,i,s){var n=this;if(i){if(e[i])return e[i].apply(n,[n].concat([s]));t.error("Method "+i+" does not exist on jQuery."+e.name)}else e.init.apply(n,[n].concat([s]));return n},n={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}};return isElementInViewport=function(e,i,s){if(e===[])return!1;e instanceof t&&(e=e[0]);var n=e.getBoundingClientRect(),r=[n.top,n.bottom,n.left,n.right];return!_.every(r,function(t){if(0===t)return!0})&&(i?(void 0===s&&(s=0),n.top<=0+s&&n.bottom>=0+s):n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth))},{jqueryPlugin:function(t){return function(e,n){var r=this;return 0===r.length?r:("object"==typeof e&&(n=e,e=void 0),"function"==typeof t?i.call(this,t,e,n):s.call(this,t,e,n))}},debounce:function(t,e){var i;return function(){var s=this,n=arguments;clearTimeout(i),i=setTimeout(function(){i=null,t.apply(s,n)},e)}},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:e,extend:function(t){if(!e(t))return t;for(var i,s,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(s in i)hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},rebaseURL:function(t,e){return-1!==e.indexOf("://")||"/"===e[0]?e:t.slice(0,t.lastIndexOf("/")+1)+e},findLabel:function(e){for(var i,s=e.parentNode;s&&11!==s.nodeType;s=s.parentNode)if("LABEL"===s.tagName)return s;return e.id&&(i=t('label[for="'+e.id+'"]')),i&&0===i.length&&e.form&&(i=t('label[for="'+e.name+'"]',e.form)),i&&i.length?i[0]:null},elementInViewport:function(t){var e=t.getBoundingClientRect(),i=document.documentElement,s=window.innerWidth||i.clientWidth,n=window.innerHeight||i.clientHeight;return!(e.right<0||e.bottom<0||e.left>s||e.top>n)},removeWildcardClass:function(e,i){if(-1===i.indexOf("*"))e.removeClass(i);else{var s=i.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&");s=s.replace(/[*]/g,".*"),s=new RegExp("^"+s+"$"),e.filter("[class]").each(function(){for(var e=t(this),i=e.attr("class").split(/\s+/),n=[],r=0;r<i.length;r++)s.test(i[r])||n.push(i[r]);n.length?e.attr("class",n.join(" ")):e.removeAttr("class")})}},hideOrShow:function(t,e,i,s){var r="css"===i.transition||"none"===i.transition?null:i.effect.duration;t.removeClass("visible hidden in-progress");var a=function(){t.removeClass("in-progress").addClass(e?"visible":"hidden").trigger("pat-update",{pattern:s,transition:"complete"})};if(r){var o=n[i.transition];t.addClass("in-progress").trigger("pat-update",{pattern:s,transition:"start"}),t[e?o.show:o.hide]({duration:r,easing:i.effect.easing,complete:a})}else"css"!==i.transition&&t[e?"show":"hide"](),a()},addURLQueryParameter:function(t,e,i){var s=new RegExp("(\\?|\\&)"+e+"=.*?(?=(&|$))"),n=t.toString().split("#"),r=n[0],a=n[1],o=/\?.+$/,l=r;return l=s.test(r)?r.replace(s,"$1"+e+"="+i):o.test(r)?r+"&"+e+"="+i:r+"?"+e+"="+i,a&&(l+="#"+a),l},removeDuplicateObjects:function(t){var e=function(t,e){return this[e]===t};return _.reduce(t,function(t,i){var s=!1;return _.each(t,function(t){s=_.keys(t).length===_.keys(i).length&&!_.chain(t).omit(e.bind(i)).keys().value().length}),s||t.push(i),t},[])},mergeStack:function(e,i){for(var s=[],n=0;n<i;n++)s.push({});return _.each(e,function(e){for(var n=e.length-1,r=0;r<i;r++)s[r]=t.extend(s[r]||{},e[r>n?n:r])}),s},isElementInViewport:isElementInViewport}}),define("pat-compat",[],function(){Array.prototype.every||(Array.prototype.every=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var s=arguments[1],n=0;n<i;n++)if(n in e&&!t.call(s,e[n],n,e))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var s=[],n=arguments[1],r=0;r<i;r++)if(r in e){var a=e[r];t.call(n,a,r,e)&&s.push(a)}return s}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,s;if(null===this)throw new TypeError(" this is null or not defined");var n=Object(this),r=n.length>>>0;if("[object Function]"!=={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(i=e),s=0;s<r;){var a;s in n&&(a=n[s],t.call(i,a,s,n)),s++}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var s=0;if(arguments.length>0&&((s=Number(arguments[1]))!==s?s=0:0!==s&&s!==1/0&&s!==-1/0&&(s=(s>0||-1)*Math.floor(Math.abs(s)))),s>=i)return-1;for(var n=s>=0?s:Math.max(i-Math.abs(s),0);n<i;n++)if(n in e&&e[n]===t)return n;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var s=i;arguments.length>1&&((s=Number(arguments[1]))!==s?s=0:0!==s&&s!==1/0&&s!==-1/0&&(s=(s>0||-1)*Math.floor(Math.abs(s))));for(var n=s>=0?Math.min(s,i-1):i-Math.abs(s);n>=0;n--)if(n in e&&e[n]===t)return n;return-1}),Array.prototype.map||(Array.prototype.map=function(t,e){var i,s,n;if(null===this)throw new TypeError(" this is null or not defined");var r=Object(this),a=r.length>>>0;if("[object Function]"!=={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(i=e),s=new Array(a),n=0;n<a;){var o,l;n in r&&(o=r[n],l=t.call(i,o,n,r),s[n]=l),n++}return s}),Array.prototype.reduce||(Array.prototype.reduce=function(t){if(null===this||void 0===this)throw new TypeError("Object is null or undefined");var e,i=0,s=this.length>>0;if("function"!=typeof t)throw new TypeError("First argument is not callable");if(arguments.length<2){if(0===s)throw new TypeError("Array length is 0 and no second argument");e=this[0],i=1}else e=arguments[1];for(;i<s;)i in this&&(e=t.call(void 0,e,this[i],i,this)),++i;return e}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;if(0===i&&1===arguments.length)throw new TypeError;var s,n=i-1;if(arguments.length>=2)s=arguments[1];else for(;;){if(n in this){s=this[n--];break}if(--n<0)throw new TypeError}for(;n>=0;)n in e&&(s=t.call(void 0,s,e[n],n,e)),n--;return s}),Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var s=arguments[1],n=0;n<i;n++)if(n in e&&t.call(s,e[n],n,e))return!0;return!1}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,s=function(){},n=function(){return i.apply(this instanceof s&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return s.prototype=this.prototype,n.prototype=new s,n}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=i.length;return function(n){if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Object.keys called on non-object");var r=[];for(var a in n)t.call(n,a)&&r.push(a);if(e)for(var o=0;o<s;o++)t.call(n,i[o])&&r.push(i[o]);return r}}())}),define("pat-jquery-ext",["jquery"],function(t){var e={init:function(i){var s={time:3,initialTime:8,exceptionAreas:[]};return this.each(function(){var n=t(this);n.data("timeout")||(i&&t.extend(s,i),n.data("timeout",{lastEvent:new Date,trueTime:s.time,time:s.initialTime,untouched:!0,inExceptionArea:!1}),n.bind("mouseover.timeout",e.mouseMoved),n.bind("mouseenter.timeout",e.mouseMoved),t(s.exceptionAreas).each(function(){n.find(this).live("mouseover.timeout",{parent:n},e.enteredException).live("mouseleave.timeout",{parent:n},e.leftException)}),s.initialTime>0?n.timeout("startTimer"):n.addClass("timeout"))})},enteredException:function(t){var e=t.data.parent.data("timeout");e.inExceptionArea=!0,t.data.parent.data("timeout",e),t.data.parent.trigger("mouseover")},leftException:function(t){var e=t.data.parent.data("timeout");e.inExceptionArea=!1,t.data.parent.data("timeout",e)},destroy:function(){return this.each(function(){var e=t(this),i=e.data("timeout");t(window).unbind(".timeout"),i.timeout.remove(),e.removeData("timeout")})},mouseMoved:function(){var e=t(this),i=e.data("timeout");e.hasClass("timeout")?(e.removeClass("timeout"),e.timeout("startTimer")):i.untouched&&(i.untouched=!1,i.time=i.trueTime),i.lastEvent=new Date,e.data("timeout",i)},startTimer:function(){var e=t(this),i=e.data("timeout"),s=function(){var t=e.data("timeout");if(t&&t.lastEvent)if(t.inExceptionArea)setTimeout(s,Math.floor(1e3*t.time));else{var i=new Date,n=Math.floor(1e3*t.time)-(i-t.lastEvent);n>0?setTimeout(s,n+100):e.addClass("timeout")}};setTimeout(s,Math.floor(1e3*i.time))}};t.fn.timeout=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.timeout"):e.init.apply(this,arguments)},t.extend(t.expr[":"],{scrollable:function(e){return"scroll"===t(e).css("overflow")||"scroll"===t(e).css("overflowX")||"scroll"===t(e).css("overflowY")||(e.clientHeight<e.scrollHeight&&(-1!==t.inArray(t(e).css("overflowY"),["scroll","auto"])||-1!==t.inArray(t(e).css("overflow"),["scroll","auto"]))||e.clientWidth<e.scrollWidth&&(-1!==t.inArray(t(e).css("overflowX"),["scroll","auto"])||-1!==t.inArray(t(e).css("overflow"),["scroll","auto"])))}}),t.fn.makeVisibleInScroll=function(e){var i=null;return"string"==typeof e?i=t("#"+e):e&&(i=t(e)),this.each(function(){var e,s=t(this);i?e=i:(e=s.parents(":scrollable"),e=t(e.length>0?e[0]:window));var n=s.position().top,r=s.height()+n,a=e.scrollTop(),o=e.height()+a;n<a?e.scrollTop(n):r>o-e.height()/2&&e.scrollTop(n-(e.height()-s.height())/2)})},t.fn.setPositionAbsolute=function(e,i,s){return this.each(function(){var n=t(this),r=t(this).width(),a=e.offset(),o=e.width(),l=e.height(),u=a.left+o-r+s,c=a.top+l+i;n.css({"z-index":1,position:"absolute",marginLeft:0,marginTop:0,left:u+"px",top:c+"px",width:r}),n.remove().appendTo("body").show()})},t.fn.positionAncestor=function(e){var i=0,s=0;return this.each(function(){var n=t(this).closest(e);if(n.length&&"static"!==n.css("position")){var r=t(this),a=r.offset().left-parseInt(r.css("marginLeft"),10),o=r.offset().top-parseInt(r.css("marginTop"),10),l=n.offset().left+parseInt(n.css("borderLeftWidth"),10),u=n.offset().top+parseInt(n.css("borderTopWidth"),10);return i=a-l,s=o-u,!1}}),{left:i,top:s}},String.prototype.startsWith=function(t){return null!==this.match("^"+t)},String.prototype.endsWith=function(t){return null!==this.match(t+"$")},t.simplePlaceholder={placeholder_class:null,hide_placeholder:function(){var e=t(this);e.val()===e.attr("placeholder")&&e.val("").removeClass(t.simplePlaceholder.placeholder_class)},show_placeholder:function(){var e=t(this);""===e.val()&&e.val(e.attr("placeholder")).addClass(t.simplePlaceholder.placeholder_class)},prevent_placeholder_submit:function(){return t(this).find(".simple-placeholder").each(function(){var e=t(this);e.val()===e.attr("placeholder")&&e.val("")}),!0}},t.fn.simplePlaceholder=function(e){if(void 0===document.createElement("input").placeholder){var i={placeholder_class:"placeholding"};e&&t.extend(i,e),t.simplePlaceholder.placeholder_class=i.placeholder_class,this.each(function(){var e=t(this);e.focus(t.simplePlaceholder.hide_placeholder),e.blur(t.simplePlaceholder.show_placeholder),""===e.val()&&(e.val(e.attr("placeholder")),e.addClass(t.simplePlaceholder.placeholder_class)),e.addClass("simple-placeholder"),t(this.form).submit(t.simplePlaceholder.prevent_placeholder_submit)})}return this},t.fn.findInclusive=function(t){return this.find("*").addBack().filter(t)},t.fn.slideIn=function(t,e,i){return this.animate({width:"show"},t,e,i)},t.fn.slideOut=function(t,e,i){return this.animate({width:"hide"},t,e,i)},t.expr[":"].Contains=function(e,i,s){return t(e).text().toUpperCase().indexOf(s[3].toUpperCase())>=0},t.fn.scopedFind=function(e){return e.startsWith("#")?t(e):this.find(e)}}),define("pat-registry",["jquery","underscore","pat-logger","pat-utils","pat-compat","pat-jquery-ext"],function(t,e,i,s){for(var n,r=i.getLogger("registry"),a=/patterns-disable=([^&]+)/g,o=/patterns-dont-catch/g,l=!1,u={};null!==(n=a.exec(window.location.search));)u[n[1]]=!0,r.info("Pattern disabled via url config:",n[1]);for(;null!==(n=o.exec(window.location.search));)l=!0,r.info("I will not catch init exceptions");var c={patterns:{},initialized:!1,init:function(){t(document).ready(function(){r.info("loaded: "+Object.keys(c.patterns).sort().join(", ")),c.scan(document.body),c.initialized=!0,r.info("finished initial scan.")})},clear:function(){this.patterns={}},transformPattern:function(e,i){if(u[e])r.debug("Skipping disabled pattern:",e);else{var s=c.patterns[e];if(s.transform)try{s.transform(t(i))}catch(t){if(l)throw t;r.error("Transform error for pattern"+e,t)}}},initPattern:function(e,s,n){var r=t(s),a=c.patterns[e];if(a.init&&(plog=i.getLogger("pat."+e),r.is(a.trigger))){plog.debug("Initialising:",r);try{a.init(r,null,n),plog.debug("done.")}catch(t){if(l)throw t;plog.error("Caught error:",t)}}},orderPatterns:function(t){return e.contains(t,"validation")&&e.contains(t,"inject")&&(t.splice(t.indexOf("validation"),1),t.unshift("validation")),t},scan:function(i,s,n){var r=[];(s=this.orderPatterns(s||Object.keys(c.patterns))).forEach(e.partial(this.transformPattern,e,i)),s=e.each(s,function(t){var e=c.patterns[t];e.trigger&&r.unshift(e.trigger)}),t(i).findInclusive(r.join(",")).filter(function(){return 0===t(this).parents("pre").length}).filter(":not(.cant-touch-this)").toArray().reduceRight(function(t,i){s.forEach(e.partial(this.initPattern,e,i,n))}.bind(this),null),t("body").addClass("patterns-loaded")},register:function(e,i){var n;return(i=i||e.name)?c.patterns[i]?(r.error("Already have a pattern called: "+i),!1):(c.patterns[i]=e,e.jquery_plugin&&(n=("pat-"+i).replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()}),t.fn[n]=s.jqueryPlugin(e),t.fn[n.replace(/^pat/,"pattern")]=t.fn[n]),r.debug("Registered pattern:",i,e),c.initialized&&c.scan(document.body,[i]),!0):(r.error("Pattern lacks a name:",e),!1)}};return c}),define("pat-mockup-parser",["jquery"],function(t){"use strict";return{getOptions:function e(i,s,n){n=n||{},0===i.length||t.nodeName(i[0],"body")||(n=e(i.parent(),s,n));var r={};if(0!==i.length&&(r=i.data("pat-"+s))&&"string"==typeof r){var a={};t.each(r.split(";"),function(t,e){(e=e.split(":")).reverse();var i=e.pop();i=i.replace(/^\s+|\s+$/g,""),e.reverse();var s=e.join(":");s=s.replace(/^\s+|\s+$/g,""),a[i]=s}),r=a}return t.extend(!0,{},n,r)}}}),define("pat-base",["jquery","pat-registry","pat-mockup-parser","pat-logger"],function(t,e,i,s){"use strict";var n=s.getLogger("Patternslib Base"),r=function(t,n,r){var a=this.prototype.name,o=s.getLogger("pat."+a),l=t.data("pattern-"+a);if(void 0===l&&e.patterns[a]){try{n="mockup"===this.prototype.parser?i.getOptions(t,a,n):n,l=new e.patterns[a](t,n,r)}catch(t){o.error("Failed while initializing '"+a+"' pattern.",t)}t.data("pattern-"+a,l)}return l},a=function(e,i,s){this.$el=e,this.options=t.extend(!0,{},this.defaults||{},i||{}),this.init(e,i,s),this.emit("init")};return a.prototype={constructor:a,on:function(t,e){this.$el.on(t+"."+this.name+".patterns",e)},emit:function(t,e){void 0===e&&(e=[]),this.$el.trigger(t+"."+this.name+".patterns",e)}},a.extend=function(i){var s,o=this;if(!i)throw new Error("Pattern configuration properties required when calling Base.extend");(s=i.hasOwnProperty("constructor")?i.constructor:function(){o.apply(this,arguments)}).extend=a.extend,s.init=r,s.jquery_plugin=!0,s.trigger=i.trigger;var l=function(){this.constructor=s};return l.prototype=o.prototype,s.prototype=new l,t.extend(!0,s.prototype,i),s.__super__=o.prototype,i.name?i.trigger?e.register(s,i.name):n.warn("The pattern '"+i.name+"' does not have a trigger attribute, it will not be registered."):n.warn("This pattern without a name attribute will not be registered!"),s},a}),define("pat-collectiveplaylist",["jquery","pat-base","pat-registry","pjaxscript","jplayerscript","jplayerplaylistscript"],function(t,e,i,s){"use strict";return e.extend({name:"pat-collectiveplaylist",trigger:"#jquery_jplayer_playlist",init:function(){t("body").append(t("#playerfooterviewlet"));var e=new s({elements:["div.outer-wrapper a"],selectors:["#edit-zone","div.outer-wrapper"],cacheBust:!1}),n="";e._handleResponse=e.handleResponse,e.handleResponse=function(i,s,r){try{var a=t.parseXML(i),o=t(a).find("body");n=o.attr("class")}catch(t){console.debug("A Parsing Error occured")}e._handleResponse(i,s,r)},document.addEventListener("pjax:success",function(){t("body").attr("class",n),i.scan(document.body)});var r=t("#tracks").html();r=r.replace(/'/g,'"'),r=JSON.parse(r),new jPlayerPlaylist({jPlayer:"#jquery_jplayer_playlist",cssSelectorAncestor:"#jp_container_playlist"},r,{volume:.85,playlistOptions:{autoPlay:!1},solution:"html, flash",supplied:"mp3, oga, ogg, wav",wmode:"window",useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!0})}})}),require(["pjaxscript","jplayerscript","jplayerplaylistscript","pat-collectiveplaylist"],function(){"use strict"}),define("/Users/ksuess/Plone/playlist/src/collective/playlist/browser/static/bundle-collectiveplaylist.js",function(){});
//# sourceMappingURL=collectiveplaylist.js.map