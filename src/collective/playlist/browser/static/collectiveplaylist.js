!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("pjaxscript",[],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Pjax=t()}}(function(){return function r(a,o,l){function u(e,t){if(!o[e]){if(!a[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(c)return c(e,!0);var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}var n=o[e]={exports:{}};a[e][0].call(n.exports,function(t){return u(a[e][1][t]||t)},n,n.exports,r,a,o,l)}return o[e].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(n,t,e){var a=n("./lib/execute-scripts.js"),o=n("./lib/foreach-els.js"),i=n("./lib/parse-options.js"),s=n("./lib/switches"),l=n("./lib/uniqueid.js"),r=n("./lib/events/on.js"),u=n("./lib/events/trigger.js"),c=n("./lib/util/clone.js"),h=n("./lib/util/contains.js"),d=n("./lib/util/extend.js"),p=n("./lib/util/noop"),f=function(t){this.state={numPendingSwitches:0,href:null,options:null},this.options=i(t),this.log("Pjax options",this.options),this.options.scrollRestoration&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),this.maxUid=this.lastUid=l(),this.parseDOM(document),r(window,"popstate",function(t){if(t.state){var e=c(this.options);e.url=t.state.url,e.title=t.state.title,e.history=!1,e.scrollPos=t.state.scrollPos,t.state.uid<this.lastUid?e.backward=!0:e.forward=!0,this.lastUid=t.state.uid,this.loadUrl(t.state.url,e)}}.bind(this))};if(f.switches=s,f.prototype={log:n("./lib/proto/log.js"),getElements:function(t){return t.querySelectorAll(this.options.elements)},parseDOM:function(t){var e=n("./lib/proto/parse-element");o(this.getElements(t),e,this)},refresh:function(t){this.parseDOM(t||document)},reload:function(){window.location.reload()},attachLink:n("./lib/proto/attach-link.js"),attachForm:n("./lib/proto/attach-form.js"),forEachSelectors:function(t,e,i){return n("./lib/foreach-selectors.js").bind(this)(this.options.selectors,t,e,i)},switchSelectors:function(t,e,i,s){return n("./lib/switches-selectors.js").bind(this)(this.options.switches,this.options.switchesOptions,t,e,i,s)},latestChance:function(t){window.location=t},onSwitch:function(){u(window,"resize scroll"),this.state.numPendingSwitches--,0===this.state.numPendingSwitches&&this.afterAllSwitches()},loadContent:function(t,e){var i=document.implementation.createHTMLDocument("pjax"),s=t.match(/<html[^>]+>/gi);if(s&&s.length&&(s=s[0].match(/\s?[a-z:]+(?:\=(?:\'|\")[^\'\">]+(?:\'|\"))*/gi)).length&&(s.shift(),s.forEach(function(t){var e=t.trim().split("=");1===e.length?i.documentElement.setAttribute(e[0],!0):i.documentElement.setAttribute(e[0],e[1].slice(1,-1))})),i.documentElement.innerHTML=t,this.log("load content",i.documentElement.attributes,i.documentElement.innerHTML.length),document.activeElement&&h(document,this.options.selectors,document.activeElement))try{document.activeElement.blur()}catch(t){}this.switchSelectors(this.options.selectors,i,document,e)},abortRequest:n("./lib/abort-request.js"),doRequest:n("./lib/send-request.js"),handleResponse:n("./lib/proto/handle-response.js"),loadUrl:function(t,e){e="object"==typeof e?d({},this.options,e):c(this.options),this.log("load href",t,e),this.abortRequest(this.request),u(document,"pjax:send",e),this.request=this.doRequest(t,e,this.handleResponse.bind(this))},afterAllSwitches:function(){var t=Array.prototype.slice.call(document.querySelectorAll("[autofocus]")).pop();t&&document.activeElement!==t&&t.focus(),this.options.selectors.forEach(function(t){o(document.querySelectorAll(t),function(t){a(t)})});var e=this.state;if(e.options.history&&(window.history.state||(this.lastUid=this.maxUid=l(),window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)),this.lastUid=this.maxUid=l(),window.history.pushState({url:e.href,title:e.options.title,uid:this.maxUid,scrollPos:[0,0]},e.options.title,e.href)),this.forEachSelectors(function(t){this.parseDOM(t)},this),u(document,"pjax:complete pjax:success",e.options),"function"==typeof e.options.analytics&&e.options.analytics(),e.options.history){var i=document.createElement("a");if(i.href=this.state.href,i.hash){var s=i.hash.slice(1);s=decodeURIComponent(s);var n=0,r=document.getElementById(s)||document.getElementsByName(s)[0];if(r&&r.offsetParent)for(;n+=r.offsetTop,r=r.offsetParent;);window.scrollTo(0,n)}else!1!==e.options.scrollTo&&(1<e.options.scrollTo.length?window.scrollTo(e.options.scrollTo[0],e.options.scrollTo[1]):window.scrollTo(0,e.options.scrollTo))}else e.options.scrollRestoration&&e.options.scrollPos&&window.scrollTo(e.options.scrollPos[0],e.options.scrollPos[1]);this.state={numPendingSwitches:0,href:null,options:null}}},f.isSupported=n("./lib/is-supported.js"),f.isSupported())t.exports=f;else{var m=p;for(var y in f.prototype)f.prototype.hasOwnProperty(y)&&"function"==typeof f.prototype[y]&&(m[y]=p);t.exports=m}},{"./lib/abort-request.js":2,"./lib/events/on.js":4,"./lib/events/trigger.js":5,"./lib/execute-scripts.js":6,"./lib/foreach-els.js":7,"./lib/foreach-selectors.js":8,"./lib/is-supported.js":9,"./lib/parse-options.js":10,"./lib/proto/attach-form.js":11,"./lib/proto/attach-link.js":12,"./lib/proto/handle-response.js":13,"./lib/proto/log.js":14,"./lib/proto/parse-element":15,"./lib/send-request.js":16,"./lib/switches":18,"./lib/switches-selectors.js":17,"./lib/uniqueid.js":19,"./lib/util/clone.js":20,"./lib/util/contains.js":21,"./lib/util/extend.js":22,"./lib/util/noop":23}],2:[function(t,e,i){var s=t("./util/noop");e.exports=function(t){t&&t.readyState<4&&(t.onreadystatechange=s,t.abort())}},{"./util/noop":23}],3:[function(t,e,i){e.exports=function(t){var e=t.text||t.textContent||t.innerHTML||"",i=t.src||"",s=t.parentNode||document.querySelector("head")||document.documentElement,n=document.createElement("script");if(e.match("document.write"))return console&&console.log&&console.log("Script contains document.write. Can’t be executed correctly. Code skipped ",t),!1;if(n.type="text/javascript",""!==i&&(n.src=i,n.async=!1),""!==e)try{n.appendChild(document.createTextNode(e))}catch(t){n.text=e}return s.appendChild(n),(s instanceof HTMLHeadElement||s instanceof HTMLBodyElement)&&s.removeChild(n),!0}},{}],4:[function(t,e,i){var n=t("../foreach-els");e.exports=function(t,e,i,s){(e="string"==typeof e?e.split(" "):e).forEach(function(e){n(t,function(t){t.addEventListener(e,i,s)})})}},{"../foreach-els":7}],5:[function(t,e,i){var n=t("../foreach-els");e.exports=function(e,t,s){(t="string"==typeof t?t.split(" "):t).forEach(function(t){var i;(i=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),i.eventName=t,s&&Object.keys(s).forEach(function(t){i[t]=s[t]}),n(e,function(t){var e=!1;t.parentNode||t===document||t===window||(e=!0,document.body.appendChild(t)),t.dispatchEvent(i),e&&t.parentNode.removeChild(t)})})}},{"../foreach-els":7}],6:[function(t,e,i){var s=t("./foreach-els"),n=t("./eval-script");e.exports=function(t){"script"===t.tagName.toLowerCase()&&n(t),s(t.querySelectorAll("script"),function(t){t.type&&"text/javascript"!==t.type.toLowerCase()||(t.parentNode&&t.parentNode.removeChild(t),n(t))})}},{"./eval-script":3,"./foreach-els":7}],7:[function(t,e,i){e.exports=function(t,e,i){return t instanceof HTMLCollection||t instanceof NodeList||t instanceof Array?Array.prototype.forEach.call(t,e,i):e.call(i,t)}},{}],8:[function(t,e,i){var n=t("./foreach-els");e.exports=function(t,e,i,s){s=s||document,t.forEach(function(t){n(s.querySelectorAll(t),e,i)})}},{"./foreach-els":7}],9:[function(t,e,i){e.exports=function(){return window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/)}},{}],10:[function(t,e,i){var s=t("./switches");function n(){window._gaq&&_gaq.push(["_trackPageview"]),window.ga&&ga("send","pageview",{page:location.pathname,title:document.title})}e.exports=function(t){return(t=t||{}).elements=t.elements||"a[href], form[action]",t.selectors=t.selectors||["title",".js-Pjax"],t.switches=t.switches||{},t.switchesOptions=t.switchesOptions||{},t.history=void 0===t.history||t.history,t.analytics="function"==typeof t.analytics||!1===t.analytics?t.analytics:n,t.scrollTo=void 0===t.scrollTo?0:t.scrollTo,t.scrollRestoration=void 0===t.scrollRestoration||t.scrollRestoration,t.cacheBust=void 0===t.cacheBust||t.cacheBust,t.debug=t.debug||!1,t.timeout=t.timeout||0,t.currentUrlFullReload=void 0!==t.currentUrlFullReload&&t.currentUrlFullReload,t.switches.head||(t.switches.head=s.switchElementsAlt),t.switches.body||(t.switches.body=s.switchElementsAlt),t}},{"./switches":18}],11:[function(t,e,i){var s=t("../events/on"),r=t("../util/clone"),a="data-pjax-state",n=function(t,e){if(!o(e)){var i=r(this.options);i.requestOptions={requestUrl:t.getAttribute("action")||window.location.href,requestMethod:t.getAttribute("method")||"GET"};var s=document.createElement("a");s.setAttribute("href",i.requestOptions.requestUrl);var n=function(t,e){if(t.protocol!==window.location.protocol||t.host!==window.location.host)return"external";if(t.hash&&t.href.replace(t.hash,"")===window.location.href.replace(location.hash,""))return"anchor";if(t.href===window.location.href.split("#")[0]+"#")return"anchor-empty";if(e.currentUrlFullReload&&t.href===window.location.href.split("#")[0])return"reload"}(s,i);n?t.setAttribute(a,n):(e.preventDefault(),"multipart/form-data"===t.enctype?i.requestOptions.formData=new FormData(t):i.requestOptions.requestParams=function(t){var e=[];for(var i in t.elements)if(!Number.isNaN(Number(i))){var s=t.elements[i],n=s.tagName.toLowerCase();if(s.name&&void 0!==s.attributes&&"button"!==n){var r=s.attributes.type;if(!r||"checkbox"!==r.value&&"radio"!==r.value||s.checked){var a=[];if("select"===n)for(var o,l=0;l<s.options.length;l++)(o=s.options[l]).selected&&!o.disabled&&a.push(o.hasAttribute("value")?o.value:o.text);else a.push(s.value);for(var u=0;u<a.length;u++)e.push({name:encodeURIComponent(s.name),value:encodeURIComponent(a[u])})}}}return e}(t),t.setAttribute(a,"submit"),i.triggerElement=t,this.loadUrl(s.href,i))}};var o=function(t){return t.defaultPrevented||!1===t.returnValue};e.exports=function(e){var i=this;e.setAttribute(a,""),s(e,"submit",function(t){n.call(i,e,t)}),s(e,"keyup",function(t){13===t.keyCode&&n.call(i,e,t)}.bind(this))}},{"../events/on":4,"../util/clone":20}],12:[function(t,e,i){var s=t("../events/on"),n=t("../util/clone"),r="data-pjax-state",a=function(t,e){if(!o(e)){var i=n(this.options),s=function(t,e){if(1<e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return"modifier";if(t.protocol!==window.location.protocol||t.host!==window.location.host)return"external";if(t.hash&&t.href.replace(t.hash,"")===window.location.href.replace(location.hash,""))return"anchor";if(t.href===window.location.href.split("#")[0]+"#")return"anchor-empty"}(t,e);if(s)t.setAttribute(r,s);else{if(e.preventDefault(),this.options.currentUrlFullReload&&t.href===window.location.href.split("#")[0])return t.setAttribute(r,"reload"),void this.reload();t.setAttribute(r,"load"),i.triggerElement=t,this.loadUrl(t.href,i)}}};var o=function(t){return t.defaultPrevented||!1===t.returnValue};e.exports=function(e){var i=this;e.setAttribute(r,""),s(e,"click",function(t){a.call(i,e,t)}),s(e,"keyup",function(t){13===t.keyCode&&a.call(i,e,t)}.bind(this))}},{"../events/on":4,"../util/clone":20}],13:[function(t,e,i){var l=t("../util/clone.js"),u=t("../uniqueid.js"),c=t("../events/trigger.js");e.exports=function(t,e,i,s){if((s=l(s||this.options)).request=e,!1!==t){var n=window.history.state||{};window.history.replaceState({url:n.url||window.location.href,title:n.title||document.title,uid:n.uid||u(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location);var r=i;e.responseURL?i!==e.responseURL&&(i=e.responseURL):e.getResponseHeader("X-PJAX-URL")?i=e.getResponseHeader("X-PJAX-URL"):e.getResponseHeader("X-XHR-Redirected-To")&&(i=e.getResponseHeader("X-XHR-Redirected-To"));var a=document.createElement("a");a.href=r;var o=a.hash;a.href=i,o&&!a.hash&&(a.hash=o,i=a.href),this.state.href=i,this.state.options=s;try{this.loadContent(t,s)}catch(t){if(c(document,"pjax:error",s),this.options.debug)throw t;return console&&console.error&&console.error("Pjax switch fail: ",t),this.latestChance(i)}}else c(document,"pjax:complete pjax:error",s)}},{"../events/trigger.js":5,"../uniqueid.js":19,"../util/clone.js":20}],14:[function(t,e,i){e.exports=function(){this.options.debug&&console&&("function"==typeof console.log?console.log.apply(console,arguments):console.log&&console.log(arguments))}},{}],15:[function(t,e,i){var s="data-pjax-state";e.exports=function(t){switch(t.tagName.toLowerCase()){case"a":t.hasAttribute(s)||this.attachLink(t);break;case"form":t.hasAttribute(s)||this.attachForm(t);break;default:throw"Pjax can only be applied on <a> or <form> submit"}}},{}],16:[function(t,e,i){var h=t("./util/update-query-string");e.exports=function(e,i,s){var t,n=(i=i||{}).requestOptions||{},r=(n.requestMethod||"GET").toUpperCase(),a=n.requestParams||null,o=n.formData||null,l=null,u=new XMLHttpRequest,c=i.timeout||0;if(u.onreadystatechange=function(){4===u.readyState&&(200===u.status?s(u.responseText,u,e,i):0!==u.status&&s(null,u,e,i))},u.onerror=function(t){console.log(t),s(null,u,e,i)},u.ontimeout=function(){s(null,u,e,i)},a&&a.length)switch(t=a.map(function(t){return t.name+"="+t.value}).join("&"),r){case"GET":e=e.split("?")[0],e+="?"+t;break;case"POST":l=t}else o&&(l=o);return i.cacheBust&&(e=h(e,"t",Date.now())),u.open(r,e,!0),u.timeout=c,u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.setRequestHeader("X-PJAX","true"),u.setRequestHeader("X-PJAX-Selectors",JSON.stringify(i.selectors)),l&&"POST"===r&&!o&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(l),u}},{"./util/update-query-string":24}],17:[function(t,e,i){var s=t("./foreach-els"),c=t("./switches");e.exports=function(a,o,t,e,i,l){var u=[];t.forEach(function(n){var t=e.querySelectorAll(n),r=i.querySelectorAll(n);if(this.log&&this.log("Pjax switch",n,t,r),t.length!==r.length)throw"DOM doesn’t look the same on new loaded page: ’"+n+"’ - new "+t.length+", old "+r.length;s(t,function(t,e){var i=r[e];this.log&&this.log("newEl",t,"oldEl",i);var s=a[n]?a[n].bind(this,i,t,l,o[n]):c.outerHTML.bind(this,i,t,l);u.push(s)},this)},this),this.state.numPendingSwitches=u.length,u.forEach(function(t){t()})}},{"./foreach-els":7,"./switches":18}],18:[function(t,e,i){var h=t("./events/on.js");e.exports={outerHTML:function(t,e){t.outerHTML=e.outerHTML,this.onSwitch()},innerHTML:function(t,e){t.innerHTML=e.innerHTML,""===e.className?t.removeAttribute("class"):t.className=e.className,this.onSwitch()},switchElementsAlt:function(t,e){if(t.innerHTML=e.innerHTML,e.hasAttributes())for(var i=e.attributes,s=0;s<i.length;s++)t.attributes.setNamedItem(i[s].cloneNode());this.onSwitch()},replaceNode:function(t,e){t.parentNode.replaceChild(e,t),this.onSwitch()},sideBySide:function(t,e,i,s){var n=Array.prototype.forEach,r=[],a=[],o=document.createDocumentFragment(),l="animationend webkitAnimationEnd MSAnimationEnd oanimationend",u=0,c=function(t){t.target===t.currentTarget&&--u<=0&&r&&(r.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)}),a.forEach(function(t){t.className=t.className.replace(t.getAttribute("data-pjax-classes"),""),t.removeAttribute("data-pjax-classes")}),r=a=null,this.onSwitch())}.bind(this);s=s||{},n.call(t.childNodes,function(t){r.push(t),t.classList&&!t.classList.contains("js-Pjax-remove")&&(t.hasAttribute("data-pjax-classes")&&(t.className=t.className.replace(t.getAttribute("data-pjax-classes"),""),t.removeAttribute("data-pjax-classes")),t.classList.add("js-Pjax-remove"),s.callbacks&&s.callbacks.removeElement&&s.callbacks.removeElement(t),s.classNames&&(t.className+=" "+s.classNames.remove+" "+(i.backward?s.classNames.backward:s.classNames.forward)),u++,h(t,l,c,!0))}),n.call(e.childNodes,function(t){if(t.classList){var e="";s.classNames&&(e=" js-Pjax-add "+s.classNames.add+" "+(i.backward?s.classNames.forward:s.classNames.backward)),s.callbacks&&s.callbacks.addElement&&s.callbacks.addElement(t),t.className+=e,t.setAttribute("data-pjax-classes",e),a.push(t),o.appendChild(t),u++,h(t,l,c,!0)}}),t.className=e.className,t.appendChild(o)}}},{"./events/on.js":4}],19:[function(t,e,i){var s;e.exports=(s=0,function(){var t="pjax"+(new Date).getTime()+"_"+s;return s++,t})},{}],20:[function(t,e,i){e.exports=function(t){if(null===t||"object"!=typeof t)return t;var e=t.constructor();for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}},{}],21:[function(t,e,i){e.exports=function(t,e,i){for(var s=0;s<e.length;s++)for(var n=t.querySelectorAll(e[s]),r=0;r<n.length;r++)if(n[r].contains(i))return!0;return!1}},{}],22:[function(t,e,i){e.exports=function(t){if(null==t)return null;for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}},{}],23:[function(t,e,i){e.exports=function(){}},{}],24:[function(t,e,i){e.exports=function(t,e,i){var s=new RegExp("([?&])"+e+"=.*?(&|$)","i"),n=-1!==t.indexOf("?")?"&":"?";return t.match(s)?t.replace(s,"$1"+e+"="+i+"$2"):t+n+e+"="+i}},{}]},{},[1])(1)}),function(t,e){"function"==typeof define&&define.amd?define("jplayerscript",["jquery"],e):e("object"==typeof exports?require("jquery"):t.jQuery?t.jQuery:t.Zepto)}(this,function(u,l){u.fn.jPlayer=function(i){var s="jPlayer",t="string"==typeof i,n=Array.prototype.slice.call(arguments,1),r=this;return i=!t&&n.length?u.extend.apply(null,[!0,i].concat(n)):i,t&&"_"===i.charAt(0)||this.each(t?function(){var t=u(this).data(s),e=t&&u.isFunction(t[i])?t[i].apply(t,n):t;return e!==t&&e!==l?(r=e,!1):void 0}:function(){var t=u(this).data(s);t?t.option(i||{}):u(this).data(s,new u.jPlayer(i,this))}),r},u.jPlayer=function(t,e){if(arguments.length){this.element=u(e),this.options=u.extend(!0,{},this.options,t);var i=this;this.element.bind("remove.jPlayer",function(){i.destroy()}),this._init()}},"function"!=typeof u.fn.stop&&(u.fn.stop=function(){}),u.jPlayer.emulateMethods="load play pause",u.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",u.jPlayer.emulateOptions="muted volume",u.jPlayer.reservedEvent="ready flashreset resize repeat error warning",u.jPlayer.event={},u.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){u.jPlayer.event[this]="jPlayer_"+this}),u.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],u.jPlayer.pause=function(){u.jPlayer.prototype.destroyRemoved(),u.each(u.jPlayer.prototype.instances,function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")})},u.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var t=function(){this.init()};t.prototype={init:function(){this.options={timeFormat:u.jPlayer.timeFormat}},time:function(t){t=t&&"number"==typeof t?t:0;var e=new Date(1e3*t),i=e.getUTCHours(),s=this.options.timeFormat.showHour?e.getUTCMinutes():e.getUTCMinutes()+60*i,n=this.options.timeFormat.showMin?e.getUTCSeconds():e.getUTCSeconds()+60*s,r=this.options.timeFormat.padHour&&i<10?"0"+i:i,a=this.options.timeFormat.padMin&&s<10?"0"+s:s,o=this.options.timeFormat.padSec&&n<10?"0"+n:n,l="";return l+=this.options.timeFormat.showHour?r+this.options.timeFormat.sepHour:"",(l+=this.options.timeFormat.showMin?a+this.options.timeFormat.sepMin:"")+(this.options.timeFormat.showSec?o+this.options.timeFormat.sepSec:"")}};var e=new t;u.jPlayer.convertTime=function(t){return e.time(t)},u.jPlayer.uaBrowser=function(t){var e=t.toLowerCase(),i=/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}},u.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),i=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(e)||[],s=/(ipad|playbook)/.exec(e)||!/(mobile)/.exec(e)&&/(android)/.exec(e)||[];return i[1]&&(i[1]=i[1].replace(/\s/g,"_")),{platform:i[1]||"",tablet:s[1]||""}},u.jPlayer.browser={},u.jPlayer.platform={};var i=u.jPlayer.uaBrowser(navigator.userAgent);i.browser&&(u.jPlayer.browser[i.browser]=!0,u.jPlayer.browser.version=i.version);var s=u.jPlayer.uaPlatform(navigator.userAgent);s.platform&&(u.jPlayer.platform[s.platform]=!0,u.jPlayer.platform.mobile=!s.tablet,u.jPlayer.platform.tablet=!!s.tablet),u.jPlayer.getDocMode=function(){var t;return u.jPlayer.browser.msie&&(document.documentMode?t=document.documentMode:(t=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(t=7))),t},u.jPlayer.browser.documentMode=u.jPlayer.getDocMode(),u.jPlayer.nativeFeatures={init:function(){var t,e,i,s=document,n=s.createElement("video"),r={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},a=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=t={support:{w3c:!!s[r.w3c[0]],moz:!!s[r.moz[0]],webkit:"function"==typeof s[r.webkit[3]],webkitVideo:"function"==typeof n[r.webkitVideo[2]],ms:"function"==typeof n[r.ms[2]]},used:{}},e=0,i=a.length;e<i;e++){var o=a[e];if(t.support[o]){t.spec=o,t.used[o]=!0;break}}if(t.spec){var l=r[t.spec];t.api={fullscreenEnabled:!0,fullscreenElement:function(t){return(t=t||s)[l[1]]},requestFullscreen:function(t){return t[l[2]]()},exitFullscreen:function(t){return(t=t||s)[l[3]]()}},t.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else t.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},t.event={}}},u.jPlayer.nativeFeatures.init(),u.jPlayer.focus=null,u.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var n=function(i){var s,n=u.jPlayer.focus;n&&(u.each(u.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(t,e){return i.target.nodeName.toUpperCase()===e.toUpperCase()?!(s=!0):void 0}),s||u.each(n.options.keyBindings,function(t,e){return e&&u.isFunction(e.fn)&&("number"==typeof e.key&&i.which===e.key||"string"==typeof e.key&&i.key===e.key)?(i.preventDefault(),e.fn(n),!1):void 0}))};u.jPlayer.keys=function(t){var e="keydown.jPlayer";u(document.documentElement).unbind(e),t&&u(document.documentElement).bind(e,n)},u.jPlayer.keys(!0),u.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(t){t.jPlayer.options.loop?u(this).unbind(".jPlayerRepeat").bind(u.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){u(this).jPlayer("play")}):u(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(t){t.status.paused?t.play():t.pause()}},fullScreen:{key:70,fn:function(t){(t.status.video||t.options.audioFullScreen)&&t._setOption("fullScreen",!t.options.fullScreen)}},muted:{key:77,fn:function(t){t._muted(!t.options.muted)}},volumeUp:{key:190,fn:function(t){t.volume(t.options.volume+.1)}},volumeDown:{key:188,fn:function(t){t.volume(t.options.volume-.1)}},loop:{key:76,fn:function(t){t._loop(!t.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var n=this;if(this.element.empty(),this.status=u.extend({},this.status),this.internal=u.extend({},this.internal),this.options.timeFormat=u.extend({},u.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=u.jPlayer.platform.ipad||u.jPlayer.platform.iphone||u.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!u.jPlayer.focus&&(u.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},u.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),u.each(this.options.supplied.toLowerCase().split(","),function(t,e){var i=e.replace(/^\s+|\s+$/g,"");if(n.format[i]){var s=!1;u.each(n.formats,function(t,e){return i===e?!(s=!0):void 0}),s||n.formats.push(i)}}),u.each(this.options.solution.toLowerCase().split(","),function(t,e){var i=e.replace(/^\s+|\s+$/g,"");if(n.solution[i]){var s=!1;u.each(n.solutions,function(t,e){return i===e?!(s=!0):void 0}),s||n.solutions.push(i)}}),u.each(this.options.auroraFormats.toLowerCase().split(","),function(t,e){var i=e.replace(/^\s+|\s+$/g,"");if(n.format[i]){var s=!1;u.each(n.aurora.formats,function(t,e){return i===e?!(s=!0):void 0}),s||n.aurora.formats.push(i)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=u.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=u.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:l}),this.internal.video=u.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:l}),this.internal.flash=u.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:l,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=u.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:l}),u.each(u.jPlayer.event,function(t,e){n.options[t]!==l&&(n.element.bind(e+".jPlayer",n.options[t]),n.options[t]=l)}),this.require.audio=!1,this.require.video=!1,u.each(this.formats,function(t,e){n.require[n.format[e].media]=!0}),this.options=this.require.video?u.extend(!0,{},this.optionsVideo,this.options):u.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),u.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!n.status.video||n.status.waitForPlay)&&n.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=u("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){n._trigger(u.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},u.each(this.formats,function(t,e){n.html.canPlay[e]=n.html[n.format[e].media].available&&""!==n.htmlElement[n.format[e].media].canPlayType(n.format[e].codec),n.aurora.canPlay[e]=-1<u.inArray(e,n.aurora.formats),n.flash.canPlay[e]=n.format[e].flashCanPlay&&n.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,u.each(this.solutions,function(t,e){if(0===t)n[e].desired=!0;else{var i=!1,s=!1;u.each(n.formats,function(t,e){n[n.solutions[0]].canPlay[e]&&("video"===n.format[e].media?s=!0:i=!0)}),n[e].desired=n.require.audio&&!i||n.require.video&&!s}}),this.html.support={},this.aurora.support={},this.flash.support={},u.each(this.formats,function(t,e){n.html.support[e]=n.html.canPlay[e]&&n.html.desired,n.aurora.support[e]=n.aurora.canPlay[e]&&n.aurora.desired,n.flash.support[e]=n.flash.canPlay[e]&&n.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,u.each(this.solutions,function(t,i){u.each(n.formats,function(t,e){return n[i].support[e]?!(n[i].used=!0):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:u.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:u.jPlayer.errorMsg.NO_SOLUTION,hint:u.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var t,e="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(u.jPlayer.browser.msie&&(Number(u.jPlayer.browser.version)<9||u.jPlayer.browser.documentMode<9)){var i='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',s=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+e+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];t=document.createElement(i);for(var r=0;r<s.length;r++)t.appendChild(document.createElement(s[r]))}else{var a=function(t,e,i){var s=document.createElement("param");s.setAttribute("name",e),s.setAttribute("value",i),t.appendChild(s)};(t=document.createElement("object")).setAttribute("id",this.internal.flash.id),t.setAttribute("name",this.internal.flash.id),t.setAttribute("data",this.internal.flash.swf),t.setAttribute("type","application/x-shockwave-flash"),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("tabindex","-1"),a(t,"flashvars",e),a(t,"allowscriptaccess","always"),a(t,"bgcolor",this.options.backgroundColor),a(t,"wmode",this.options.wmode)}this.element.append(t),this.internal.flash.jq=u(t)}this.status.playbackRateEnabled=!(!this.html.used||this.flash.used)&&this._testPlaybackRate("audio"),this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=u("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=u("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){n._trigger(u.jPlayer.event.click)}))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout(function(){n.internal.ready=!0,n.version.flash="n/a",n._trigger(u.jPlayer.event.repeat),n._trigger(u.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),u.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),u.each(this.css.jq,function(t,e){e.length&&e.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===u.jPlayer.focus&&(u.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var i=this;u.each(this.instances,function(t,e){i.element!==e&&(e.data("jPlayer")||(e.jPlayer("destroy"),delete i.instances[t]))})},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{return t.canPlayType(this.format.mp3.codec),!0}catch(t){return!1}},_testPlaybackRate:function(t){var e;t="string"==typeof t?t:"audio",e=document.createElement(t);try{return"playbackRate"in e&&(e.playbackRate=.5)===e.playbackRate}catch(t){return!1}},_uaBlocklist:function(t){var i=navigator.userAgent.toLowerCase(),s=!1;return u.each(t,function(t,e){return e&&e.test(i)?!(s=!0):void 0}),s},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(i,s){var n=this;i.preload=this.options.preload,i.muted=this.options.muted,i.volume=this.options.volume,this.status.playbackRateEnabled&&(i.defaultPlaybackRate=this.options.defaultPlaybackRate,i.playbackRate=this.options.playbackRate),i.addEventListener("progress",function(){s.gate&&(n.internal.cmdsIgnored&&0<this.readyState&&(n.internal.cmdsIgnored=!1),n._getHtmlStatus(i),n._updateInterface(),n._trigger(u.jPlayer.event.progress))},!1),i.addEventListener("loadeddata",function(){s.gate&&(n.androidFix.setMedia=!1,n.androidFix.play&&(n.androidFix.play=!1,n.play(n.androidFix.time)),n.androidFix.pause&&(n.androidFix.pause=!1,n.pause(n.androidFix.time)),n._trigger(u.jPlayer.event.loadeddata))},!1),i.addEventListener("timeupdate",function(){s.gate&&(n._getHtmlStatus(i),n._updateInterface(),n._trigger(u.jPlayer.event.timeupdate))},!1),i.addEventListener("durationchange",function(){s.gate&&(n._getHtmlStatus(i),n._updateInterface(),n._trigger(u.jPlayer.event.durationchange))},!1),i.addEventListener("play",function(){s.gate&&(n._updateButtons(!0),n._html_checkWaitForPlay(),n._trigger(u.jPlayer.event.play))},!1),i.addEventListener("playing",function(){s.gate&&(n._updateButtons(!0),n._seeked(),n._trigger(u.jPlayer.event.playing))},!1),i.addEventListener("pause",function(){s.gate&&(n._updateButtons(!1),n._trigger(u.jPlayer.event.pause))},!1),i.addEventListener("waiting",function(){s.gate&&(n._seeking(),n._trigger(u.jPlayer.event.waiting))},!1),i.addEventListener("seeking",function(){s.gate&&(n._seeking(),n._trigger(u.jPlayer.event.seeking))},!1),i.addEventListener("seeked",function(){s.gate&&(n._seeked(),n._trigger(u.jPlayer.event.seeked))},!1),i.addEventListener("volumechange",function(){s.gate&&(n.options.volume=i.volume,n.options.muted=i.muted,n._updateMute(),n._updateVolume(),n._trigger(u.jPlayer.event.volumechange))},!1),i.addEventListener("ratechange",function(){s.gate&&(n.options.defaultPlaybackRate=i.defaultPlaybackRate,n.options.playbackRate=i.playbackRate,n._updatePlaybackRate(),n._trigger(u.jPlayer.event.ratechange))},!1),i.addEventListener("suspend",function(){s.gate&&(n._seeked(),n._trigger(u.jPlayer.event.suspend))},!1),i.addEventListener("ended",function(){s.gate&&(u.jPlayer.browser.webkit||(n.htmlElement.media.currentTime=0),n.htmlElement.media.pause(),n._updateButtons(!1),n._getHtmlStatus(i,!0),n._updateInterface(),n._trigger(u.jPlayer.event.ended))},!1),i.addEventListener("error",function(){s.gate&&(n._updateButtons(!1),n._seeked(),n.status.srcSet&&(clearTimeout(n.internal.htmlDlyCmdId),n.status.waitForLoad=!0,n.status.waitForPlay=!0,n.status.video&&!n.status.nativeVideoControls&&n.internal.video.jq.css({width:"0px",height:"0px"}),n._validString(n.status.media.poster)&&!n.status.nativeVideoControls&&n.internal.poster.jq.show(),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n._error({type:u.jPlayer.error.URL,context:n.status.src,message:u.jPlayer.errorMsg.URL,hint:u.jPlayer.errorHint.URL})))},!1),u.each(u.jPlayer.htmlEvent,function(t,e){i.addEventListener(this,function(){s.gate&&n._trigger(u.jPlayer.event[e])},!1)})},_addAuroraEventListeners:function(t,e){var i=this;t.volume=100*this.options.volume,t.on("progress",function(){e.gate&&(i.internal.cmdsIgnored&&0<this.readyState&&(i.internal.cmdsIgnored=!1),i._getAuroraStatus(t),i._updateInterface(),i._trigger(u.jPlayer.event.progress),0<t.duration&&i._trigger(u.jPlayer.event.timeupdate))},!1),t.on("ready",function(){e.gate&&i._trigger(u.jPlayer.event.loadeddata)},!1),t.on("duration",function(){e.gate&&(i._getAuroraStatus(t),i._updateInterface(),i._trigger(u.jPlayer.event.durationchange))},!1),t.on("end",function(){e.gate&&(i._updateButtons(!1),i._getAuroraStatus(t,!0),i._updateInterface(),i._trigger(u.jPlayer.event.ended))},!1),t.on("error",function(){e.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:u.jPlayer.error.URL,context:i.status.src,message:u.jPlayer.errorMsg.URL,hint:u.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(t,e){var i=0,s=0,n=0,r=0;isFinite(t.duration)&&(this.status.duration=t.duration),i=t.currentTime,s=0<this.status.duration?100*i/this.status.duration:0,r="object"==typeof t.seekable&&0<t.seekable.length?(n=0<this.status.duration?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100,0<this.status.duration?100*t.currentTime/t.seekable.end(t.seekable.length-1):0):(n=100,s),e&&(s=r=i=0),this.status.seekPercent=n,this.status.currentPercentRelative=r,this.status.currentPercentAbsolute=s,this.status.currentTime=i,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=t.readyState,this.status.networkState=t.networkState,this.status.playbackRate=t.playbackRate,this.status.ended=t.ended},_getAuroraStatus:function(t,e){var i=0,s=0,n=0,r=0;this.status.duration=t.duration/1e3,i=t.currentTime/1e3,s=0<this.status.duration?100*i/this.status.duration:0,r=0<t.buffered?(n=0<this.status.duration?t.buffered*this.status.duration/this.status.duration:100,0<this.status.duration?i/(t.buffered*this.status.duration):0):(n=100,s),e&&(s=r=i=0),this.status.seekPercent=n,this.status.currentPercentRelative=r,this.status.currentPercentAbsolute=s,this.status.currentTime=i,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=u.extend({},this.status,u.jPlayer.prototype.status)},_trigger:function(t,e,i){var s=u.Event(t);s.jPlayer={},s.jPlayer.version=u.extend({},this.version),s.jPlayer.options=u.extend(!0,{},this.options),s.jPlayer.status=u.extend(!0,{},this.status),s.jPlayer.html=u.extend(!0,{},this.html),s.jPlayer.aurora=u.extend(!0,{},this.aurora),s.jPlayer.flash=u.extend(!0,{},this.flash),e&&(s.jPlayer.error=u.extend({},e)),i&&(s.jPlayer.warning=u.extend({},i)),this.element.trigger(s)},jPlayerFlashEvent:function(t,e){if(t===u.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var i=this.status.currentTime,s=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),0<i&&(s?this.pause(i):this.play(i))}this._trigger(u.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=e.version,this.version.needFlash!==this.version.flash&&this._error({type:u.jPlayer.error.VERSION,context:this.version.flash,message:u.jPlayer.errorMsg.VERSION+this.version.flash,hint:u.jPlayer.errorHint.VERSION}),this._trigger(u.jPlayer.event.repeat),this._trigger(t);if(this.flash.gate)switch(t){case u.jPlayer.event.progress:case u.jPlayer.event.timeupdate:this._getFlashStatus(e),this._updateInterface(),this._trigger(t);break;case u.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(t);break;case u.jPlayer.event.pause:case u.jPlayer.event.ended:this._updateButtons(!1),this._trigger(t);break;case u.jPlayer.event.click:this._trigger(t);break;case u.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:u.jPlayer.error.URL,context:e.src,message:u.jPlayer.errorMsg.URL,hint:u.jPlayer.errorHint.URL});break;case u.jPlayer.event.seeking:this._seeking(),this._trigger(t);break;case u.jPlayer.event.seeked:this._seeked(),this._trigger(t);break;case u.jPlayer.event.ready:break;default:this._trigger(t)}return!1},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent,this.status.currentPercentRelative=t.currentPercentRelative,this.status.currentPercentAbsolute=t.currentPercentAbsolute,this.status.currentTime=t.currentTime,this.status.duration=t.duration,this.status.remaining=t.duration-t.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(t){t===l?t=!this.status.paused:this.status.paused=!t,t?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(t?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));this.css.jq.currentTime.length&&(this._convertTime(this.status.currentTime)!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var t="",e=this.status.duration,i=this.status.remaining;this.css.jq.duration.length&&((t="string"==typeof this.status.media.duration?this.status.media.duration:("number"==typeof this.status.media.duration&&(i=(e=this.status.media.duration)-this.status.currentTime),this.options.remainingDuration?(0<i?"-":"")+this._convertTime(i):this._convertTime(e)))!==this.css.jq.duration.text()&&this.css.jq.duration.text(t))},_convertTime:t.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(t){var e=document.createElement("div");return e.innerHTML='<a href="'+this._escapeHtml(t)+'">x</a>',e.firstChild.href},_absoluteMediaUrls:function(i){var s=this;return u.each(i,function(t,e){e&&s.format[t]&&"data:"!==e.substr(0,5)&&(i[t]=s._qualifyURL(e))}),i},addStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[t])},removeStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[t])},setMedia:function(a){var o=this,l=!1,t=this.status.media.poster!==a.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,a=this._absoluteMediaUrls(a),u.each(this.formats,function(t,n){var r="video"===o.format[n].media;return u.each(o.solutions,function(t,e){if(o[e].support[n]&&o._validString(a[n])){var i="html"===e,s="aurora"===e;return o.status.video=r?(i?(o.html.video.gate=!0,o._html_setVideo(a),o.html.active=!0):(o.flash.gate=!0,o._flash_setVideo(a),o.flash.active=!0),o.css.jq.videoPlay.length&&o.css.jq.videoPlay.show(),!0):(i?(o.html.audio.gate=!0,o._html_setAudio(a),o.html.active=!0,u.jPlayer.platform.android&&(o.androidFix.setMedia=!0)):s?(o.aurora.gate=!0,o._aurora_setAudio(a),o.aurora.active=!0):(o.flash.gate=!0,o._flash_setAudio(a),o.flash.active=!0),o.css.jq.videoPlay.length&&o.css.jq.videoPlay.hide(),!1),!(l=!0)}}),!l&&void 0}),l?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(a.poster)&&(t?this.htmlElement.poster.src=a.poster:this.internal.poster.jq.show()),"string"==typeof a.title&&(this.css.jq.title.length&&this.css.jq.title.html(a.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",a.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",a.title)),this.status.srcSet=!0,this.status.media=u.extend({},a),this._updateButtons(!1),this._updateInterface(),this._trigger(u.jPlayer.event.setmedia)):this._error({type:u.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:u.jPlayer.errorMsg.NO_SUPPORT,hint:u.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(u.jPlayer.focus=this)},play:function(t){"object"==typeof t&&this.options.useStateClassSkin&&!this.status.paused?this.pause(t):(t="number"==typeof t?t:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(t):this.aurora.active?this._aurora_play(t):this.flash.active&&this._flash_play(t)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(t){t="number"==typeof t?t:NaN,this.status.srcSet?this.html.active?this._html_pause(t):this.aurora.active?this._aurora_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},tellOthers:function(t,e){var i=this,s="function"==typeof e,n=Array.prototype.slice.call(arguments);"string"==typeof t&&(s&&n.splice(1,1),u.jPlayer.prototype.destroyRemoved(),u.each(this.instances,function(){i.element!==this&&(!s||e.call(this.data("jPlayer"),i))&&this.jPlayer.apply(this,n)}))},pauseOthers:function(t){this.tellOthers("pause",function(){return this.status.srcSet},t)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100),this.status.srcSet?this.html.active?this._html_playHead(t):this.aurora.active?this._aurora_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(t){this.mutedWorker(t),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},t)},mutedWorker:function(t){this.options.muted=t,this.html.used&&this._html_setProperty("muted",t),this.aurora.used&&this._aurora_mute(t),this.flash.used&&this._flash_mute(t),this.html.video.gate||this.html.audio.gate||(this._updateMute(t),this._updateVolume(this.options.volume),this._trigger(u.jPlayer.event.volumechange))},mute:function(t){"object"==typeof t&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(t=t===l||!!t,this._muted(t))},unmute:function(t){t=t===l||!!t,this._muted(!t)},_updateMute:function(t){t===l&&(t=this.options.muted),t?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):t?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(t){this.volumeWorker(t),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},t)},volumeWorker:function(t){t=this._limitValue(t,0,1),this.options.volume=t,this.html.used&&this._html_setProperty("volume",t),this.aurora.used&&this._aurora_volume(t),this.flash.used&&this._flash_volume(t),this.html.video.gate||this.html.audio.gate||(this._updateVolume(t),this._trigger(u.jPlayer.event.volumechange))},volumeBar:function(t){if(this.css.jq.volumeBar.length){var e=u(t.currentTarget),i=e.offset(),s=t.pageX-i.left,n=e.width(),r=e.height()-t.pageY+i.top,a=e.height();this.volume(this.options.verticalVolume?r/a:s/n)}this.options.muted&&this._muted(!1)},_updateVolume:function(t){t===l&&(t=this.options.volume),t=this.options.muted?0:t,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*t+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(t){var i=this;this.options.cssSelectorAncestor=t,this._removeUiClass(),this.ancestorJq=t?u(t):[],t&&1!==this.ancestorJq.length&&this._warning({type:u.jPlayer.warning.CSS_SELECTOR_COUNT,context:t,message:u.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:u.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),u.each(this.options.cssSelector,function(t,e){i._cssSelector(t,e)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(e,t){var i=this;if("string"==typeof t)if(u.jPlayer.prototype.options.cssSelector[e]){if(this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer"),this.options.cssSelector[e]=t,this.css.cs[e]=this.options.cssSelectorAncestor+" "+t,this.css.jq[e]=t?u(this.css.cs[e]):[],this.css.jq[e].length&&this[e]){this.css.jq[e].bind("click.jPlayer",function(t){t.preventDefault(),i[e](t),i.options.autoBlur?u(this).blur():u(this).focus()})}t&&1!==this.css.jq[e].length&&this._warning({type:u.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:u.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:u.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:u.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:u.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:u.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:u.jPlayer.warning.CSS_SELECTOR_STRING,context:t,message:u.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:u.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(t){this.options.toggleDuration&&(this.options.captureDuration&&t.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(t){if(this.css.jq.seekBar.length){var e=u(t.currentTarget),i=e.offset(),s=100*(t.pageX-i.left)/e.width();this.playHead(s)}},playbackRate:function(t){this._setOption("playbackRate",t)},playbackRateBar:function(t){if(this.css.jq.playbackRateBar.length){var e,i=u(t.currentTarget),s=i.offset(),n=t.pageX-s.left,r=i.width(),a=i.height()-t.pageY+s.top,o=i.height();e=(this.options.verticalPlaybackRate?a/o:n/r)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(e)}},_updatePlaybackRate:function(){var t=(this.options.playbackRate-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*t+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(t){var e="object"==typeof t;this._loop(!(e&&this.options.useStateClassSkin&&this.options.loop))},repeatOff:function(){this._loop(!1)},_loop:function(t){this.options.loop!==t&&(this.options.loop=t,this._updateButtons(),this._trigger(u.jPlayer.event.repeat))},option:function(t,e){var i=t;if(0===arguments.length)return u.extend(!0,{},this.options);if("string"==typeof t){var s=t.split(".");if(e===l){for(var n=u.extend(!0,{},this.options),r=0;r<s.length;r++){if(n[s[r]]===l)return this._warning({type:u.jPlayer.warning.OPTION_KEY,context:t,message:u.jPlayer.warningMsg.OPTION_KEY,hint:u.jPlayer.warningHint.OPTION_KEY}),l;n=n[s[r]]}return n}for(var a=i={},o=0;o<s.length;o++)o<s.length-1?(a[s[o]]={},a=a[s[o]]):a[s[o]]=e}return this._setOptions(i),this},_setOptions:function(t){var i=this;return u.each(t,function(t,e){i._setOption(t,e)}),this},_setOption:function(t,e){var i=this;switch(t){case"volume":this.volume(e);break;case"muted":this._muted(e);break;case"globalVolume":this.options[t]=e;break;case"cssSelectorAncestor":this._cssSelectorAncestor(e);break;case"cssSelector":u.each(e,function(t,e){i._cssSelector(t,e)});break;case"playbackRate":this.options[t]=e=this._limitValue(e,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",e),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[t]=e=this._limitValue(e,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",e),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[t]=e=this._limitValue(e,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[t]=e=this._limitValue(e,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[t]!==e){var s=u.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!s||s&&!this.status.waitForPlay)&&(s||(this.options[t]=e),e?this._requestFullscreen():this._exitFullscreen(),s||this._setOption("fullWindow",e))}break;case"fullWindow":this.options[t]!==e&&(this._removeUiClass(),this.options[t]=e,this._refreshSize());break;case"size":this.options.fullWindow||this.options[t].cssClass===e.cssClass||this._removeUiClass(),this.options[t]=u.extend({},this.options[t],e),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[t].cssClass!==e.cssClass&&this._removeUiClass(),this.options[t]=u.extend({},this.options[t],e),this._refreshSize();break;case"autohide":this.options[t]=u.extend({},this.options[t],e),this._updateAutohide();break;case"loop":this._loop(e);break;case"remainingDuration":this.options[t]=e,this._updateInterface();break;case"toggleDuration":this.options[t]=e;break;case"nativeVideoControls":this.options[t]=u.extend({},this.options[t],e),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[t]=u.extend({},this.options[t],e),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[t]=u.extend({},this.options[t],e),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[t]!==e&&((this.options[t]=e)?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[t]=u.extend({},this.options[t],e);break;case"keyEnabled":(this.options[t]=e)||this!==u.jPlayer.focus||(u.jPlayer.focus=null);break;case"keyBindings":this.options[t]=u.extend(!0,{},this.options[t],e);break;case"audioFullScreen":this.options[t]=e;break;case"autoBlur":this.options[t]=e}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(u.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var n=this,t=".jPlayerAutohide",e="mousemove.jPlayer"+t,i=function(t){var e,i,s=!1;s=void 0===n.internal.mouse||(e=n.internal.mouse.x-t.pageX,i=n.internal.mouse.y-t.pageY,0<Math.floor(e)||0<Math.floor(i)),n.internal.mouse={x:t.pageX,y:t.pageY},s&&n.css.jq.gui.fadeIn(n.options.autohide.fadeIn,function(){clearTimeout(n.internal.autohideId),n.internal.autohideId=setTimeout(function(){n.css.jq.gui.fadeOut(n.options.autohide.fadeOut)},n.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(t),this.css.jq.gui.unbind(t),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(e,i),this.css.jq.gui.bind(e,i),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(t){"object"==typeof t&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var t=this,e=u.jPlayer.nativeFeatures.fullscreen;e.api.fullscreenEnabled&&e.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){t._fullscreenchange()}),document.addEventListener(e.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var t=u.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(t.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!u.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var t=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],e=u.jPlayer.nativeFeatures.fullscreen;e.used.webkitVideo&&(t=this.htmlElement.video),e.api.fullscreenEnabled&&e.api.requestFullscreen(t)},_exitFullscreen:function(){var t,e=u.jPlayer.nativeFeatures.fullscreen;e.used.webkitVideo&&(t=this.htmlElement.video),e.api.fullscreenEnabled&&e.api.exitFullscreen(t)},_html_initMedia:function(t){var s=u(this.htmlElement.media).empty();u.each(t.track||[],function(t,e){var i=document.createElement("track");i.setAttribute("kind",e.kind?e.kind:""),i.setAttribute("src",e.src?e.src:""),i.setAttribute("srclang",e.srclang?e.srclang:""),i.setAttribute("label",e.label?e.label:""),e.def&&i.setAttribute("default",e.def),s.append(i)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(u.jPlayer.event.timeupdate)},_html_setFormat:function(i){var s=this;u.each(this.formats,function(t,e){return s.html.support[e]&&i[e]?(s.status.src=i[e],s.status.format[e]=!0,s.status.formatType=e,!1):void 0})},_html_setAudio:function(t){this._html_setFormat(t),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(t)},_html_setVideo:function(t){this._html_setFormat(t),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(t.poster)?t.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(t)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(e){var i=this,t=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=e;else if(isNaN(e))t.play();else{this.internal.cmdsIgnored&&t.play();try{if(t.seekable&&!("object"==typeof t.seekable&&0<t.seekable.length))throw 1;t.currentTime=e,t.play()}catch(t){return void(this.internal.htmlDlyCmdId=setTimeout(function(){i.play(e)},250))}}this._html_checkWaitForPlay()},_html_pause:function(e){var i=this,t=this.htmlElement.media;if(this.androidFix.play=!1,0<e?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),t.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=e;else if(!isNaN(e))try{if(t.seekable&&!("object"==typeof t.seekable&&0<t.seekable.length))throw 1;t.currentTime=e}catch(t){return void(this.internal.htmlDlyCmdId=setTimeout(function(){i.pause(e)},250))}0<e&&this._html_checkWaitForPlay()},_html_playHead:function(e){var i=this,t=this.htmlElement.media;this._html_load();try{if("object"==typeof t.seekable&&0<t.seekable.length)t.currentTime=e*t.seekable.end(t.seekable.length-1)/100;else{if(!(0<t.duration)||isNaN(t.duration))throw"e";t.currentTime=e*t.duration/100}}catch(t){return void(this.internal.htmlDlyCmdId=setTimeout(function(){i.playHead(e)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(t,e){this.html.audio.available&&(this.htmlElement.audio[t]=e),this.html.video.available&&(this.htmlElement.video[t]=e)},_aurora_setAudio:function(i){var s=this;u.each(this.formats,function(t,e){return s.aurora.support[e]&&i[e]?(s.status.src=i[e],s.status.format[e]=!0,s.status.formatType=e,!1):void 0}),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(t){this.status.waitForLoad||isNaN(t)||this.aurora.player.seek(t),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(u.jPlayer.event.play)},_aurora_pause:function(t){isNaN(t)||this.aurora.player.seek(1e3*t),this.aurora.player.pause(),0<t&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(u.jPlayer.event.pause)},_aurora_playHead:function(t){0<this.aurora.player.duration&&this.aurora.player.seek(t*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(t){this.aurora.player.volume=100*t},_aurora_mute:function(t){this.aurora.player.volume=t?(this.aurora.properties.lastvolume=this.aurora.player.volume,0):this.aurora.properties.lastvolume,this.aurora.properties.muted=t},_flash_setAudio:function(i){var s=this;try{u.each(this.formats,function(t,e){if(s.flash.support[e]&&i[e]){switch(e){case"m4a":case"fla":s._getMovie().fl_setAudio_m4a(i[e]);break;case"mp3":s._getMovie().fl_setAudio_mp3(i[e]);break;case"rtmpa":s._getMovie().fl_setAudio_rtmp(i[e])}return s.status.src=i[e],s.status.format[e]=!0,s.status.formatType=e,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(t){this._flashError(t)}},_flash_setVideo:function(i){var s=this;try{u.each(this.formats,function(t,e){if(s.flash.support[e]&&i[e]){switch(e){case"m4v":case"flv":s._getMovie().fl_setVideo_m4v(i[e]);break;case"rtmpv":s._getMovie().fl_setVideo_rtmp(i[e])}return s.status.src=i[e],s.status.format[e]=!0,s.status.formatType=e,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(t){this._flashError(t)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=!1},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(t){this._flashError(t)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(t){this._flashError(t)}0<t&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(t){this._flashError(t)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(t){this._flashError(t)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(t){this._flashError(t)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t,e=0;if(window.ActiveXObject)try{if(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var i=t.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),e=parseInt(i[0],10)+"."+parseInt(i[1],10))}}catch(t){}else navigator.plugins&&0<navigator.mimeTypes.length&&((t=navigator.plugins["Shockwave Flash"])&&(e=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*e},_checkForFlash:function(t){var e=!1;return this._getFlashPluginVersion()>=t&&(e=!0),e},_validString:function(t){return t&&"string"==typeof t},_limitValue:function(t,e,i){return t<e?e:i<t?i:t},_urlNotSetError:function(t){this._error({type:u.jPlayer.error.URL_NOT_SET,context:t,message:u.jPlayer.errorMsg.URL_NOT_SET,hint:u.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(t){var e;e=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:u.jPlayer.error[e],context:this.internal.flash.swf,message:u.jPlayer.errorMsg[e]+t.message,hint:u.jPlayer.errorHint[e]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(t){this._trigger(u.jPlayer.event.error,t),this.options.errorAlerts&&this._alert("Error!"+(t.message?"\n"+t.message:"")+(t.hint?"\n"+t.hint:"")+"\nContext: "+t.context)},_warning:function(t){this._trigger(u.jPlayer.event.warning,l,t),this.options.warningAlerts&&this._alert("Warning!"+(t.message?"\n"+t.message:"")+(t.hint?"\n"+t.hint:"")+"\nContext: "+t.context)},_alert:function(t){var e="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+t;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(e):alert(e)},_emulateHtmlBridge:function(){var n=this;u.each(u.jPlayer.emulateMethods.split(/\s+/g),function(t,e){n.internal.domNode[e]=function(t){n[e](t)}}),u.each(u.jPlayer.event,function(i,t){var s=!0;u.each(u.jPlayer.reservedEvent.split(/\s+/g),function(t,e){return e===i?s=!1:void 0}),s&&n.element.bind(t+".jPlayer.jPlayerHtml",function(){n._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(i,!1,!0),n.internal.domNode.dispatchEvent(t)})})},_emulateHtmlUpdate:function(){var i=this;u.each(u.jPlayer.emulateStatus.split(/\s+/g),function(t,e){i.internal.domNode[e]=i.status[e]}),u.each(u.jPlayer.emulateOptions.split(/\s+/g),function(t,e){i.internal.domNode[e]=i.options[e]})},_destroyHtmlBridge:function(){var i=this;this.element.unbind(".jPlayerHtml");var t=u.jPlayer.emulateMethods+" "+u.jPlayer.emulateStatus+" "+u.jPlayer.emulateOptions;u.each(t.split(/\s+/g),function(t,e){delete i.internal.domNode[e]})}},u.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},u.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+u.jPlayer.prototype.version.script+" needs Jplayer.swf version "+u.jPlayer.prototype.version.needFlash+" but found "},u.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},u.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},u.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},u.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}}),function(t){define("jplayerplaylistscript",[],function(){return function(){var r,s;r=jQuery,jPlayerPlaylist=function(t,e,i){var s=this;this.current=0,this.loop=!1,this.shuffled=!1,this.removing=!1,this.cssSelector=r.extend({},this._cssSelector,t),this.options=r.extend(!0,{keyBindings:{next:{key:221,fn:function(){s.next()}},previous:{key:219,fn:function(){s.previous()}},shuffle:{key:83,fn:function(){s.shuffle()}}},stateClass:{shuffled:"jp-state-shuffled"}},this._options,i),this.playlist=[],this.original=[],this._initPlaylist(e),this.cssSelector.details=this.cssSelector.cssSelectorAncestor+" .jp-details",this.cssSelector.playlist=this.cssSelector.cssSelectorAncestor+" .jp-playlist",this.cssSelector.next=this.cssSelector.cssSelectorAncestor+" .jp-next",this.cssSelector.previous=this.cssSelector.cssSelectorAncestor+" .jp-previous",this.cssSelector.shuffle=this.cssSelector.cssSelectorAncestor+" .jp-shuffle",this.cssSelector.shuffleOff=this.cssSelector.cssSelectorAncestor+" .jp-shuffle-off",this.options.cssSelectorAncestor=this.cssSelector.cssSelectorAncestor,this.options.repeat=function(t){s.loop=t.jPlayer.options.loop},r(this.cssSelector.jPlayer).bind(r.jPlayer.event.ready,function(){s._init()}),r(this.cssSelector.jPlayer).bind(r.jPlayer.event.ended,function(){s.next()}),r(this.cssSelector.jPlayer).bind(r.jPlayer.event.play,function(){r(this).jPlayer("pauseOthers")}),r(this.cssSelector.jPlayer).bind(r.jPlayer.event.resize,function(t){t.jPlayer.options.fullScreen?r(s.cssSelector.details).show():r(s.cssSelector.details).hide()}),r(this.cssSelector.previous).click(function(t){t.preventDefault(),s.previous(),s.blur(this)}),r(this.cssSelector.next).click(function(t){t.preventDefault(),s.next(),s.blur(this)}),r(this.cssSelector.shuffle).click(function(t){t.preventDefault(),s.shuffle(!s.shuffled||!r(s.cssSelector.jPlayer).jPlayer("option","useStateClassSkin")),s.blur(this)}),r(this.cssSelector.shuffleOff).click(function(t){t.preventDefault(),s.shuffle(!1),s.blur(this)}).hide(),this.options.fullScreen||r(this.cssSelector.details).hide(),r(this.cssSelector.playlist+" ul").empty(),this._createItemHandlers(),r(this.cssSelector.jPlayer).jPlayer(this.options)},jPlayerPlaylist.prototype={_cssSelector:{jPlayer:"#jquery_jplayer_1",cssSelectorAncestor:"#jp_container_1"},_options:{playlistOptions:{autoPlay:!1,loopOnPrevious:!1,shuffleOnLoop:!0,enableRemoveControls:!1,displayTime:"slow",addTime:"fast",removeTime:"fast",shuffleTime:"slow",itemClass:"jp-playlist-item",freeGroupClass:"jp-free-media",freeItemClass:"jp-playlist-item-free",removeItemClass:"jp-playlist-item-remove"}},option:function(t,e){if(e===s)return this.options.playlistOptions[t];switch(this.options.playlistOptions[t]=e,t){case"enableRemoveControls":this._updateControls();break;case"itemClass":case"freeGroupClass":case"freeItemClass":case"removeItemClass":this._refresh(!0),this._createItemHandlers()}return this},_init:function(){var t=this;this._refresh(function(){t.options.playlistOptions.autoPlay?t.play(t.current):t.select(t.current)})},_initPlaylist:function(t){this.current=0,this.shuffled=!1,this.removing=!1,this.original=r.extend(!0,[],t),this._originalPlaylist()},_originalPlaylist:function(){var e=this;this.playlist=[],r.each(this.original,function(t){e.playlist[t]=e.original[t]})},_refresh:function(t){var i=this;if(t&&!r.isFunction(t))r(this.cssSelector.playlist+" ul").empty(),r.each(this.playlist,function(t){r(i.cssSelector.playlist+" ul").append(i._createListItem(i.playlist[t]))}),this._updateControls();else{var e=r(this.cssSelector.playlist+" ul").children().length?this.options.playlistOptions.displayTime:0;r(this.cssSelector.playlist+" ul").slideUp(e,function(){var e=r(this);r(this).empty(),r.each(i.playlist,function(t){e.append(i._createListItem(i.playlist[t]))}),i._updateControls(),r.isFunction(t)&&t(),i.playlist.length?r(this).slideDown(i.options.playlistOptions.displayTime):r(this).show()})}},_createListItem:function(t){var i=this,s="<li><div>";if(s+="<a href='javascript:;' class='"+this.options.playlistOptions.removeItemClass+"'>&times;</a>",t.free){var n=!0;s+="<span class='"+this.options.playlistOptions.freeGroupClass+"'>(",r.each(t,function(t,e){r.jPlayer.prototype.format[t]&&(n?n=!1:s+=" | ",s+="<a class='"+i.options.playlistOptions.freeItemClass+"' href='"+e+"' tabindex='-1'>"+t+"</a>")}),s+=")</span>"}return s+="<a href='javascript:;' class='"+this.options.playlistOptions.itemClass+"' tabindex='0'>"+t.title+(t.artist?" <span class='jp-artist'>by "+t.artist+"</span>":"")+"</a>",s+="</div></li>"},_createItemHandlers:function(){var i=this;r(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.itemClass).on("click","a."+this.options.playlistOptions.itemClass,function(t){t.preventDefault();var e=r(this).parent().parent().index();i.current!==e?i.play(e):r(i.cssSelector.jPlayer).jPlayer("play"),i.blur(this)}),r(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.freeItemClass).on("click","a."+this.options.playlistOptions.freeItemClass,function(t){t.preventDefault(),r(this).parent().parent().find("."+i.options.playlistOptions.itemClass).click(),i.blur(this)}),r(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.removeItemClass).on("click","a."+this.options.playlistOptions.removeItemClass,function(t){t.preventDefault();var e=r(this).parent().parent().index();i.remove(e),i.blur(this)})},_updateControls:function(){this.options.playlistOptions.enableRemoveControls?r(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).show():r(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).hide(),this.shuffled?r(this.cssSelector.jPlayer).jPlayer("addStateClass","shuffled"):r(this.cssSelector.jPlayer).jPlayer("removeStateClass","shuffled"),r(this.cssSelector.shuffle).length&&r(this.cssSelector.shuffleOff).length&&(this.shuffled?(r(this.cssSelector.shuffleOff).show(),r(this.cssSelector.shuffle).hide()):(r(this.cssSelector.shuffleOff).hide(),r(this.cssSelector.shuffle).show()))},_highlight:function(t){this.playlist.length&&t!==s&&(r(this.cssSelector.playlist+" .jp-playlist-current").removeClass("jp-playlist-current"),r(this.cssSelector.playlist+" li:nth-child("+(t+1)+")").addClass("jp-playlist-current").find(".jp-playlist-item").addClass("jp-playlist-current"))},setPlaylist:function(t){this._initPlaylist(t),this._init()},add:function(t,e){r(this.cssSelector.playlist+" ul").append(this._createListItem(t)).find("li:last-child").hide().slideDown(this.options.playlistOptions.addTime),this._updateControls(),this.original.push(t),this.playlist.push(t),e?this.play(this.playlist.length-1):1===this.original.length&&this.select(0)},remove:function(t){var i=this;return t===s?(this._initPlaylist([]),this._refresh(function(){r(i.cssSelector.jPlayer).jPlayer("clearMedia")}),!0):!this.removing&&(0<=(t=t<0?i.original.length+t:t)&&t<this.playlist.length&&(this.removing=!0,r(this.cssSelector.playlist+" li:nth-child("+(t+1)+")").slideUp(this.options.playlistOptions.removeTime,function(){if(r(this).remove(),i.shuffled){var e=i.playlist[t];r.each(i.original,function(t){return i.original[t]===e?(i.original.splice(t,1),!1):void 0}),i.playlist.splice(t,1)}else i.original.splice(t,1),i.playlist.splice(t,1);i.original.length?t===i.current?(i.current=t<i.original.length?i.current:i.original.length-1,i.select(i.current)):t<i.current&&i.current--:(r(i.cssSelector.jPlayer).jPlayer("clearMedia"),i.current=0,i.shuffled=!1,i._updateControls()),i.removing=!1})),!0)},select:function(t){0<=(t=t<0?this.original.length+t:t)&&t<this.playlist.length?(this.current=t,this._highlight(t),r(this.cssSelector.jPlayer).jPlayer("setMedia",this.playlist[this.current])):this.current=0},play:function(t){0<=(t=t<0?this.original.length+t:t)&&t<this.playlist.length?this.playlist.length&&(this.select(t),r(this.cssSelector.jPlayer).jPlayer("play")):t===s&&r(this.cssSelector.jPlayer).jPlayer("play")},pause:function(){r(this.cssSelector.jPlayer).jPlayer("pause")},next:function(){var t=this.current+1<this.playlist.length?this.current+1:0;this.loop?0===t&&this.shuffled&&this.options.playlistOptions.shuffleOnLoop&&1<this.playlist.length?this.shuffle(!0,!0):this.play(t):0<t&&this.play(t)},previous:function(){var t=0<=this.current-1?this.current-1:this.playlist.length-1;(this.loop&&this.options.playlistOptions.loopOnPrevious||t<this.playlist.length-1)&&this.play(t)},shuffle:function(t,e){var i=this;t===s&&(t=!this.shuffled),(t||t!==this.shuffled)&&r(this.cssSelector.playlist+" ul").slideUp(this.options.playlistOptions.shuffleTime,function(){(i.shuffled=t)?i.playlist.sort(function(){return.5-Math.random()}):i._originalPlaylist(),i._refresh(!0),e||!r(i.cssSelector.jPlayer).data("jPlayer").status.paused?i.play(0):i.select(0),r(this).slideDown(i.options.playlistOptions.shuffleTime)})},blur:function(t){r(this.cssSelector.jPlayer).jPlayer("option","autoBlur")&&r(t).blur()}}}.apply(t,arguments)})}(this),function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},e=t._,s=Array.prototype,a=Object.prototype,h="undefined"!=typeof Symbol?Symbol.prototype:null,n=s.push,l=s.slice,d=a.toString,r=a.hasOwnProperty,i=Array.isArray,o=Object.keys,u=Object.create,c=function(){},p=function(t){return t instanceof p?t:this instanceof p?void(this._wrapped=t):new p(t)};"undefined"==typeof exports||exports.nodeType?t._=p:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=p),exports._=p),p.VERSION="1.9.1";var f,m=function(n,r,t){if(void 0===r)return n;switch(null==t?3:t){case 1:return function(t){return n.call(r,t)};case 3:return function(t,e,i){return n.call(r,t,e,i)};case 4:return function(t,e,i,s){return n.call(r,t,e,i,s)}}return function(){return n.apply(r,arguments)}},y=function(t,e,i){return p.iteratee!==f?p.iteratee(t,e):null==t?p.identity:p.isFunction(t)?m(t,e,i):p.isObject(t)&&!p.isArray(t)?p.matcher(t):p.property(t)};p.iteratee=f=function(t,e){return y(t,e,1/0)};var v=function(n,r){return r=null==r?n.length-1:+r,function(){for(var t=Math.max(arguments.length-r,0),e=Array(t),i=0;i<t;i++)e[i]=arguments[i+r];switch(r){case 0:return n.call(this,e);case 1:return n.call(this,arguments[0],e);case 2:return n.call(this,arguments[0],arguments[1],e)}var s=Array(r+1);for(i=0;i<r;i++)s[i]=arguments[i];return s[r]=e,n.apply(this,s)}},g=function(t){if(!p.isObject(t))return{};if(u)return u(t);c.prototype=t;var e=new c;return c.prototype=null,e},_=function(e){return function(t){return null==t?void 0:t[e]}},b=function(t,e){return null!=t&&r.call(t,e)},j=function(t,e){for(var i=e.length,s=0;s<i;s++){if(null==t)return;t=t[e[s]]}return i?t:void 0},w=Math.pow(2,53)-1,P=_("length"),S=function(t){var e=P(t);return"number"==typeof e&&0<=e&&e<=w};p.each=p.forEach=function(t,e,i){var s,n;if(e=m(e,i),S(t))for(s=0,n=t.length;s<n;s++)e(t[s],s,t);else{var r=p.keys(t);for(s=0,n=r.length;s<n;s++)e(t[r[s]],r[s],t)}return t},p.map=p.collect=function(t,e,i){e=y(e,i);for(var s=!S(t)&&p.keys(t),n=(s||t).length,r=Array(n),a=0;a<n;a++){var o=s?s[a]:a;r[a]=e(t[o],o,t)}return r};var k=function(l){return function(t,e,i,s){var n=3<=arguments.length;return function(t,e,i,s){var n=!S(t)&&p.keys(t),r=(n||t).length,a=0<l?0:r-1;for(s||(i=t[n?n[a]:a],a+=l);0<=a&&a<r;a+=l){var o=n?n[a]:a;i=e(i,t[o],o,t)}return i}(t,m(e,s,4),i,n)}};p.reduce=p.foldl=p.inject=k(1),p.reduceRight=p.foldr=k(-1),p.find=p.detect=function(t,e,i){var s=(S(t)?p.findIndex:p.findKey)(t,e,i);if(void 0!==s&&-1!==s)return t[s]},p.filter=p.select=function(t,s,e){var n=[];return s=y(s,e),p.each(t,function(t,e,i){s(t,e,i)&&n.push(t)}),n},p.reject=function(t,e,i){return p.filter(t,p.negate(y(e)),i)},p.every=p.all=function(t,e,i){e=y(e,i);for(var s=!S(t)&&p.keys(t),n=(s||t).length,r=0;r<n;r++){var a=s?s[r]:r;if(!e(t[a],a,t))return!1}return!0},p.some=p.any=function(t,e,i){e=y(e,i);for(var s=!S(t)&&p.keys(t),n=(s||t).length,r=0;r<n;r++){var a=s?s[r]:r;if(e(t[a],a,t))return!0}return!1},p.contains=p.includes=p.include=function(t,e,i,s){return S(t)||(t=p.values(t)),("number"!=typeof i||s)&&(i=0),0<=p.indexOf(t,e,i)},p.invoke=v(function(t,i,s){var n,r;return p.isFunction(i)?r=i:p.isArray(i)&&(n=i.slice(0,-1),i=i[i.length-1]),p.map(t,function(t){var e=r;if(!e){if(n&&n.length&&(t=j(t,n)),null==t)return;e=t[i]}return null==e?e:e.apply(t,s)})}),p.pluck=function(t,e){return p.map(t,p.property(e))},p.where=function(t,e){return p.filter(t,p.matcher(e))},p.findWhere=function(t,e){return p.find(t,p.matcher(e))},p.max=function(t,s,e){var i,n,r=-1/0,a=-1/0;if(null==s||"number"==typeof s&&"object"!=typeof t[0]&&null!=t)for(var o=0,l=(t=S(t)?t:p.values(t)).length;o<l;o++)null!=(i=t[o])&&r<i&&(r=i);else s=y(s,e),p.each(t,function(t,e,i){n=s(t,e,i),(a<n||n===-1/0&&r===-1/0)&&(r=t,a=n)});return r},p.min=function(t,s,e){var i,n,r=1/0,a=1/0;if(null==s||"number"==typeof s&&"object"!=typeof t[0]&&null!=t)for(var o=0,l=(t=S(t)?t:p.values(t)).length;o<l;o++)null!=(i=t[o])&&i<r&&(r=i);else s=y(s,e),p.each(t,function(t,e,i){((n=s(t,e,i))<a||n===1/0&&r===1/0)&&(r=t,a=n)});return r},p.shuffle=function(t){return p.sample(t,1/0)},p.sample=function(t,e,i){if(null==e||i)return S(t)||(t=p.values(t)),t[p.random(t.length-1)];var s=S(t)?p.clone(t):p.values(t),n=P(s);e=Math.max(Math.min(e,n),0);for(var r=n-1,a=0;a<e;a++){var o=p.random(a,r),l=s[a];s[a]=s[o],s[o]=l}return s.slice(0,e)},p.sortBy=function(t,s,e){var n=0;return s=y(s,e),p.pluck(p.map(t,function(t,e,i){return{value:t,index:n++,criteria:s(t,e,i)}}).sort(function(t,e){var i=t.criteria,s=e.criteria;if(i!==s){if(s<i||void 0===i)return 1;if(i<s||void 0===s)return-1}return t.index-e.index}),"value")};var x=function(a,e){return function(s,n,t){var r=e?[[],[]]:{};return n=y(n,t),p.each(s,function(t,e){var i=n(t,e,s);a(r,t,i)}),r}};p.groupBy=x(function(t,e,i){b(t,i)?t[i].push(e):t[i]=[e]}),p.indexBy=x(function(t,e,i){t[i]=e}),p.countBy=x(function(t,e,i){b(t,i)?t[i]++:t[i]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;p.toArray=function(t){return t?p.isArray(t)?l.call(t):p.isString(t)?t.match(E):S(t)?p.map(t,p.identity):p.values(t):[]},p.size=function(t){return null==t?0:S(t)?t.length:p.keys(t).length},p.partition=x(function(t,e,i){t[i?0:1].push(e)},!0),p.first=p.head=p.take=function(t,e,i){return null==t||t.length<1?null==e?void 0:[]:null==e||i?t[0]:p.initial(t,t.length-e)},p.initial=function(t,e,i){return l.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},p.last=function(t,e,i){return null==t||t.length<1?null==e?void 0:[]:null==e||i?t[t.length-1]:p.rest(t,Math.max(0,t.length-e))},p.rest=p.tail=p.drop=function(t,e,i){return l.call(t,null==e||i?1:e)},p.compact=function(t){return p.filter(t,Boolean)};var C=function(t,e,i,s){for(var n=(s=s||[]).length,r=0,a=P(t);r<a;r++){var o=t[r];if(S(o)&&(p.isArray(o)||p.isArguments(o)))if(e)for(var l=0,u=o.length;l<u;)s[n++]=o[l++];else C(o,e,i,s),n=s.length;else i||(s[n++]=o)}return s};p.flatten=function(t,e){return C(t,e,!1)},p.without=v(function(t,e){return p.difference(t,e)}),p.uniq=p.unique=function(t,e,i,s){p.isBoolean(e)||(s=i,i=e,e=!1),null!=i&&(i=y(i,s));for(var n=[],r=[],a=0,o=P(t);a<o;a++){var l=t[a],u=i?i(l,a,t):l;e&&!i?(a&&r===u||n.push(l),r=u):i?p.contains(r,u)||(r.push(u),n.push(l)):p.contains(n,l)||n.push(l)}return n},p.union=v(function(t){return p.uniq(C(t,!0,!0))}),p.intersection=function(t){for(var e=[],i=arguments.length,s=0,n=P(t);s<n;s++){var r=t[s];if(!p.contains(e,r)){var a;for(a=1;a<i&&p.contains(arguments[a],r);a++);a===i&&e.push(r)}}return e},p.difference=v(function(t,e){return e=C(e,!0,!0),p.filter(t,function(t){return!p.contains(e,t)})}),p.unzip=function(t){for(var e=t&&p.max(t,P).length||0,i=Array(e),s=0;s<e;s++)i[s]=p.pluck(t,s);return i},p.zip=v(p.unzip),p.object=function(t,e){for(var i={},s=0,n=P(t);s<n;s++)e?i[t[s]]=e[s]:i[t[s][0]]=t[s][1];return i};var q=function(r){return function(t,e,i){e=y(e,i);for(var s=P(t),n=0<r?0:s-1;0<=n&&n<s;n+=r)if(e(t[n],n,t))return n;return-1}};p.findIndex=q(1),p.findLastIndex=q(-1),p.sortedIndex=function(t,e,i,s){for(var n=(i=y(i,s,1))(e),r=0,a=P(t);r<a;){var o=Math.floor((r+a)/2);i(t[o])<n?r=o+1:a=o}return r};var O=function(r,a,o){return function(t,e,i){var s=0,n=P(t);if("number"==typeof i)0<r?s=0<=i?i:Math.max(i+n,s):n=0<=i?Math.min(i+1,n):i+n+1;else if(o&&i&&n)return t[i=o(t,e)]===e?i:-1;if(e!=e)return 0<=(i=a(l.call(t,s,n),p.isNaN))?i+s:-1;for(i=0<r?s:n-1;0<=i&&i<n;i+=r)if(t[i]===e)return i;return-1}};p.indexOf=O(1,p.findIndex,p.sortedIndex),p.lastIndexOf=O(-1,p.findLastIndex),p.range=function(t,e,i){null==e&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var s=Math.max(Math.ceil((e-t)/i),0),n=Array(s),r=0;r<s;r++,t+=i)n[r]=t;return n},p.chunk=function(t,e){if(null==e||e<1)return[];for(var i=[],s=0,n=t.length;s<n;)i.push(l.call(t,s,s+=e));return i};var T=function(t,e,i,s,n){if(!(s instanceof e))return t.apply(i,n);var r=g(t.prototype),a=t.apply(r,n);return p.isObject(a)?a:r};p.bind=v(function(e,i,s){if(!p.isFunction(e))throw new TypeError("Bind must be called on a function");var n=v(function(t){return T(e,n,i,this,s.concat(t))});return n}),p.partial=v(function(n,r){var a=p.partial.placeholder,o=function(){for(var t=0,e=r.length,i=Array(e),s=0;s<e;s++)i[s]=r[s]===a?arguments[t++]:r[s];for(;t<arguments.length;)i.push(arguments[t++]);return T(n,o,this,this,i)};return o}),(p.partial.placeholder=p).bindAll=v(function(t,e){var i=(e=C(e,!1,!1)).length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var s=e[i];t[s]=p.bind(t[s],t)}}),p.memoize=function(s,n){var r=function(t){var e=r.cache,i=""+(n?n.apply(this,arguments):t);return b(e,i)||(e[i]=s.apply(this,arguments)),e[i]};return r.cache={},r},p.delay=v(function(t,e,i){return setTimeout(function(){return t.apply(null,i)},e)}),p.defer=p.partial(p.delay,p,1),p.throttle=function(i,s,n){var r,a,o,l,u=0;n||(n={});var c=function(){u=!1===n.leading?0:p.now(),r=null,l=i.apply(a,o),r||(a=o=null)},t=function(){var t=p.now();u||!1!==n.leading||(u=t);var e=s-(t-u);return a=this,o=arguments,e<=0||s<e?(r&&(clearTimeout(r),r=null),u=t,l=i.apply(a,o),r||(a=o=null)):r||!1===n.trailing||(r=setTimeout(c,e)),l};return t.cancel=function(){clearTimeout(r),u=0,r=a=o=null},t},p.debounce=function(i,s,n){var r,a,o=function(t,e){r=null,e&&(a=i.apply(t,e))},t=v(function(t){if(r&&clearTimeout(r),n){var e=!r;r=setTimeout(o,s),e&&(a=i.apply(this,t))}else r=p.delay(o,s,this,t);return a});return t.cancel=function(){clearTimeout(r),r=null},t},p.wrap=function(t,e){return p.partial(e,t)},p.negate=function(t){return function(){return!t.apply(this,arguments)}},p.compose=function(){var i=arguments,s=i.length-1;return function(){for(var t=s,e=i[s].apply(this,arguments);t--;)e=i[t].call(this,e);return e}},p.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},p.before=function(t,e){var i;return function(){return 0<--t&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},p.once=p.partial(p.before,2),p.restArguments=v;var A=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(t,e){var i=R.length,s=t.constructor,n=p.isFunction(s)&&s.prototype||a,r="constructor";for(b(t,r)&&!p.contains(e,r)&&e.push(r);i--;)(r=R[i])in t&&t[r]!==n[r]&&!p.contains(e,r)&&e.push(r)};p.keys=function(t){if(!p.isObject(t))return[];if(o)return o(t);var e=[];for(var i in t)b(t,i)&&e.push(i);return A&&F(t,e),e},p.allKeys=function(t){if(!p.isObject(t))return[];var e=[];for(var i in t)e.push(i);return A&&F(t,e),e},p.values=function(t){for(var e=p.keys(t),i=e.length,s=Array(i),n=0;n<i;n++)s[n]=t[e[n]];return s},p.mapObject=function(t,e,i){e=y(e,i);for(var s=p.keys(t),n=s.length,r={},a=0;a<n;a++){var o=s[a];r[o]=e(t[o],o,t)}return r},p.pairs=function(t){for(var e=p.keys(t),i=e.length,s=Array(i),n=0;n<i;n++)s[n]=[e[n],t[e[n]]];return s},p.invert=function(t){for(var e={},i=p.keys(t),s=0,n=i.length;s<n;s++)e[t[i[s]]]=i[s];return e},p.functions=p.methods=function(t){var e=[];for(var i in t)p.isFunction(t[i])&&e.push(i);return e.sort()};var L=function(l,u){return function(t){var e=arguments.length;if(u&&(t=Object(t)),e<2||null==t)return t;for(var i=1;i<e;i++)for(var s=arguments[i],n=l(s),r=n.length,a=0;a<r;a++){var o=n[a];u&&void 0!==t[o]||(t[o]=s[o])}return t}};p.extend=L(p.allKeys),p.extendOwn=p.assign=L(p.keys),p.findKey=function(t,e,i){e=y(e,i);for(var s,n=p.keys(t),r=0,a=n.length;r<a;r++)if(e(t[s=n[r]],s,t))return s};var N,M,I=function(t,e,i){return e in i};p.pick=v(function(t,e){var i={},s=e[0];if(null==t)return i;p.isFunction(s)?(1<e.length&&(s=m(s,e[1])),e=p.allKeys(t)):(s=I,e=C(e,!1,!1),t=Object(t));for(var n=0,r=e.length;n<r;n++){var a=e[n],o=t[a];s(o,a,t)&&(i[a]=o)}return i}),p.omit=v(function(t,i){var e,s=i[0];return p.isFunction(s)?(s=p.negate(s),1<i.length&&(e=i[1])):(i=p.map(C(i,!1,!1),String),s=function(t,e){return!p.contains(i,e)}),p.pick(t,s,e)}),p.defaults=L(p.allKeys,!0),p.create=function(t,e){var i=g(t);return e&&p.extendOwn(i,e),i},p.clone=function(t){return p.isObject(t)?p.isArray(t)?t.slice():p.extend({},t):t},p.tap=function(t,e){return e(t),t},p.isMatch=function(t,e){var i=p.keys(e),s=i.length;if(null==t)return!s;for(var n=Object(t),r=0;r<s;r++){var a=i[r];if(e[a]!==n[a]||!(a in n))return!1}return!0},N=function(t,e,i,s){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var n=typeof t;return("function"===n||"object"===n||"object"==typeof e)&&M(t,e,i,s)},M=function(t,e,i,s){t instanceof p&&(t=t._wrapped),e instanceof p&&(e=e._wrapped);var n=d.call(t);if(n!==d.call(e))return!1;switch(n){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return h.valueOf.call(t)===h.valueOf.call(e)}var r="[object Array]"===n;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,o=e.constructor;if(a!==o&&!(p.isFunction(a)&&a instanceof a&&p.isFunction(o)&&o instanceof o)&&"constructor"in t&&"constructor"in e)return!1}s=s||[];for(var l=(i=i||[]).length;l--;)if(i[l]===t)return s[l]===e;if(i.push(t),s.push(e),r){if((l=t.length)!==e.length)return!1;for(;l--;)if(!N(t[l],e[l],i,s))return!1}else{var u,c=p.keys(t);if(l=c.length,p.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!b(e,u)||!N(t[u],e[u],i,s))return!1}return i.pop(),s.pop(),!0},p.isEqual=function(t,e){return N(t,e)},p.isEmpty=function(t){return null==t||(S(t)&&(p.isArray(t)||p.isString(t)||p.isArguments(t))?0===t.length:0===p.keys(t).length)},p.isElement=function(t){return!(!t||1!==t.nodeType)},p.isArray=i||function(t){return"[object Array]"===d.call(t)},p.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},p.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){p["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),p.isArguments(arguments)||(p.isArguments=function(t){return b(t,"callee")});var B=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof B&&(p.isFunction=function(t){return"function"==typeof t||!1}),p.isFinite=function(t){return!p.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},p.isNaN=function(t){return p.isNumber(t)&&isNaN(t)},p.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===d.call(t)},p.isNull=function(t){return null===t},p.isUndefined=function(t){return void 0===t},p.has=function(t,e){if(!p.isArray(e))return b(t,e);for(var i=e.length,s=0;s<i;s++){var n=e[s];if(null==t||!r.call(t,n))return!1;t=t[n]}return!!i},p.noConflict=function(){return t._=e,this},p.identity=function(t){return t},p.constant=function(t){return function(){return t}},p.noop=function(){},p.property=function(e){return p.isArray(e)?function(t){return j(t,e)}:_(e)},p.propertyOf=function(e){return null==e?function(){}:function(t){return p.isArray(t)?j(e,t):e[t]}},p.matcher=p.matches=function(e){return e=p.extendOwn({},e),function(t){return p.isMatch(t,e)}},p.times=function(t,e,i){var s=Array(Math.max(0,t));e=m(e,i,1);for(var n=0;n<t;n++)s[n]=e(n);return s},p.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},p.now=Date.now||function(){return(new Date).getTime()};var U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=p.invert(U),V=function(e){var i=function(t){return e[t]},t="(?:"+p.keys(e).join("|")+")",s=RegExp(t),n=RegExp(t,"g");return function(t){return t=null==t?"":""+t,s.test(t)?t.replace(n,i):t}};p.escape=V(U),p.unescape=V(H),p.result=function(t,e,i){p.isArray(e)||(e=[e]);var s=e.length;if(!s)return p.isFunction(i)?i.call(t):i;for(var n=0;n<s;n++){var r=null==t?void 0:t[e[n]];void 0===r&&(r=i,n=s),t=p.isFunction(r)?r.call(t):r}return t};var D=0;p.uniqueId=function(t){var e=++D+"";return t?t+e:e},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,X=function(t){return"\\"+z[t]};p.template=function(r,t,e){!t&&e&&(t=e),t=p.defaults({},t,p.templateSettings);var i,s=RegExp([(t.escape||W).source,(t.interpolate||W).source,(t.evaluate||W).source].join("|")+"|$","g"),a=0,o="__p+='";r.replace(s,function(t,e,i,s,n){return o+=r.slice(a,n).replace(G,X),a=n+t.length,e?o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(t.variable||"obj","_",o)}catch(t){throw t.source=o,t}var n=function(t){return i.call(this,t,p)},l=t.variable||"obj";return n.source="function("+l+"){\n"+o+"}",n},p.chain=function(t){var e=p(t);return e._chain=!0,e};var $=function(t,e){return t._chain?p(e).chain():e};p.mixin=function(i){return p.each(p.functions(i),function(t){var e=p[t]=i[t];p.prototype[t]=function(){var t=[this._wrapped];return n.apply(t,arguments),$(this,e.apply(p,t))}}),p},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var i=s[e];p.prototype[e]=function(){var t=this._wrapped;return i.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],$(this,t)}}),p.each(["concat","join","slice"],function(t){var e=s[t];p.prototype[t]=function(){return $(this,e.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},p.prototype.valueOf=p.prototype.toJSON=p.prototype.value,p.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}(),function(){var t,i;Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,s=function(){},n=function(){return i.apply(this instanceof s&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return s.prototype=this.prototype,n.prototype=new s,n});var r={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};function e(){}function s(){}function a(t,e){this._loggers={},this.name=t||"",this._parent=e||null,e||(this._enabled=!0,this._level=r.WARN)}function n(t){i=t}e.prototype={output:function(t,e,i){if(void 0!==window.console&&void 0!==console.log){t&&i.unshift(t+":");var s,n=i.join(" ");if(void 0===typeof console.info)s=e<=r.DEBUG?"DEBUG":e<=r.INFO?"INFO":e<=r.WARN?"WARN":e<=r.ERROR?"ERROR":"FATAL",console.log("["+s+"] "+n);else e<=r.DEBUG?(n="[DEBUG] "+n,console.log(n)):e<=r.INFO?console.info(n):e<=r.WARN?console.warn(n):console.error(n)}}},s.prototype={output:function(t,e,i){t&&i.unshift(t+":"),e<=r.DEBUG?(i.unshift("[DEBUG]"),console.log.apply(console,i)):e<=r.INFO?console.info.apply(console,i):e<=r.WARN?console.warn.apply(console,i):console.error.apply(console,i)}},a.prototype={getLogger:function(t){for(var e=t.split("."),i=this,s=this.name?[this.name]:[];e.length;){var n=e.shift();s.push(n),n in i._loggers||(i._loggers[n]=new a(s.join("."),i)),i=i._loggers[n]}return i},_getFlag:function(t){var e=this;for(t="_"+t;null!==e;){if(void 0!==e[t])return e[t];e=e._parent}return null},setEnabled:function(t){this._enabled=!!t},isEnabled:function(){this._getFlag("enabled")},setLevel:function(t){"number"==typeof t?this._level=t:"string"==typeof t&&(t=t.toUpperCase())in r&&(this._level=r[t])},getLevel:function(){return this._getFlag("level")},log:function(t,e){!e.length||!this._getFlag("enabled")||t<this._getFlag("level")||(e=Array.prototype.slice.call(e),i.output(this.name,t,e))},debug:function(){this.log(r.DEBUG,arguments)},info:function(){this.log(r.INFO,arguments)},warn:function(){this.log(r.WARN,arguments)},error:function(){this.log(r.ERROR,arguments)},fatal:function(){this.log(r.FATAL,arguments)}},window.console&&window.console.log&&"function"==typeof window.console.log.apply?n(new s):n(new e),t=new a;for(var o,l=/loglevel(|-[^=]+)=([^&]+)/g;null!==(o=l.exec(window.location.search));){(""===o[1]?t:t.getLogger(o[1].slice(1))).setLevel(o[2].toUpperCase())}var u={Level:r,getLogger:t.getLogger.bind(t),setEnabled:t.setEnabled.bind(t),isEnabled:t.isEnabled.bind(t),setLevel:t.setLevel.bind(t),getLevel:t.getLevel.bind(t),debug:t.debug.bind(t),info:t.info.bind(t),warn:t.warn.bind(t),error:t.error.bind(t),fatal:t.fatal.bind(t),getWriter:function(){return i},setWriter:n};"function"==typeof define?define("logging",[],function(){return u}):window.logging=u}(),define("pat-logger",["logging"],function(t){return t.getLogger("patterns")}),function(e){"function"==typeof define&&define.amd?define("jquery.browser",["jquery"],function(t){return e(t)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(t){"use strict";function e(t){void 0===t&&(t=window.navigator.userAgent),t=t.toLowerCase();var e=/(edge)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(iemobile)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||0<=t.indexOf("trident")&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],i=/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[],s={},n={browser:e[5]||e[3]||e[1]||"",version:e[2]||e[4]||"0",versionNumber:e[4]||e[2]||"0",platform:i[0]||""};if(n.browser&&(s[n.browser]=!0,s.version=n.version,s.versionNumber=parseInt(n.versionNumber,10)),n.platform&&(s[n.platform]=!0),(s.android||s.bb||s.blackberry||s.ipad||s.iphone||s.ipod||s.kindle||s.playbook||s.silk||s["windows phone"])&&(s.mobile=!0),(s.cros||s.mac||s.linux||s.win)&&(s.desktop=!0),(s.chrome||s.opr||s.safari)&&(s.webkit=!0),s.rv||s.iemobile){n.browser="msie",s.msie=!0}if(s.edge){delete s.edge;n.browser="msedge",s.msedge=!0}if(s.safari&&s.blackberry){var r="blackberry";s[n.browser=r]=!0}if(s.safari&&s.playbook){var a="playbook";s[n.browser=a]=!0}if(s.bb){var o="blackberry";s[n.browser=o]=!0}if(s.opr){n.browser="opera",s.opera=!0}if(s.safari&&s.android){var l="android";s[n.browser=l]=!0}if(s.safari&&s.kindle){n.browser="kindle",s.kindle=!0}if(s.safari&&s.silk){n.browser="silk",s.silk=!0}return s.name=n.browser,s.platform=n.platform,s}return window.jQBrowser=e(window.navigator.userAgent),window.jQBrowser.uaMatch=e,t&&(t.browser=window.jQBrowser),window.jQBrowser}),define("pat-utils",["jquery","underscore","jquery.browser"],function(r,a){r.fn.safeClone=function(){var t=this.clone();return void 0!==r.browser.msie&&t.findInclusive(":input[placeholder]").each(function(t,e){var i=r(e);i.attr("placeholder")===i.val()&&i.val("")}),t},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,s;if(null===this)throw new TypeError(" this is null or not defined");var n=Object(this),r=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(i=e),s=0;s<r;){var a;s in n&&(a=n[s],t.call(i,a,s,n)),s++}});function o(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var l={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}};return isElementInViewport=function(t,e,i){if(t===[])return!1;t instanceof r&&(t=t[0]);var s=t.getBoundingClientRect(),n=[s.top,s.bottom,s.left,s.right];return!a.every(n,function(t){if(0===t)return!0})&&(e?(void 0===i&&(i=0),s.top<=0+i&&s.bottom>=0+i):0<=s.top&&0<=s.left&&s.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&s.right<=(window.innerWidth||document.documentElement.clientWidth))},{jqueryPlugin:function(i){return function(t,e){return 0===this.length?this:("object"==typeof t&&(e=t,t=void 0),"function"==typeof i?function(i,s,n){return this.each(function(){var t,e=r(this);if(t=i.init(e,n),s){if(void 0===t[s])return r.error("Method "+s+" does not exist on jQuery."+i.name),!1;if("_"===s.charAt(0))return r.error("Method "+s+" is private on jQuery."+i.name),!1;t[s].apply(t,[n])}}),this}.call(this,i,t,e):function(t,e,i){var s=this;if(e){if(t[e])return t[e].apply(s,[s].concat([i]));r.error("Method "+e+" does not exist on jQuery."+t.name)}else t.init.apply(s,[s].concat([i]));return s}.call(this,i,t,e))}},debounce:function(i,s){var n;return function(){var t=this,e=arguments;clearTimeout(n),n=setTimeout(function(){n=null,i.apply(t,e)},s)}},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:o,extend:function(t){if(!o(t))return t;for(var e,i,s=1,n=arguments.length;s<n;s++)for(i in e=arguments[s])hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},rebaseURL:function(t,e){return-1!==e.indexOf("://")||"/"===e[0]?e:t.slice(0,t.lastIndexOf("/")+1)+e},findLabel:function(t){for(var e,i=t.parentNode;i&&11!==i.nodeType;i=i.parentNode)if("LABEL"===i.tagName)return i;return t.id&&(e=r('label[for="'+t.id+'"]')),e&&0===e.length&&t.form&&(e=r('label[for="'+t.name+'"]',t.form)),e&&e.length?e[0]:null},elementInViewport:function(t){var e=t.getBoundingClientRect(),i=document.documentElement,s=window.innerWidth||i.clientWidth,n=window.innerHeight||i.clientHeight;return!(e.right<0||e.bottom<0||e.left>s||e.top>n)},removeWildcardClass:function(t,e){if(-1===e.indexOf("*"))t.removeClass(e);else{var n=e.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&");n=n.replace(/[*]/g,".*"),n=new RegExp("^"+n+"$"),t.filter("[class]").each(function(){for(var t=r(this),e=t.attr("class").split(/\s+/),i=[],s=0;s<e.length;s++)n.test(e[s])||i.push(e[s]);i.length?t.attr("class",i.join(" ")):t.removeAttr("class")})}},hideOrShow:function(t,e,i,s){var n="css"===i.transition||"none"===i.transition?null:i.effect.duration;t.removeClass("visible hidden in-progress");var r=function(){t.removeClass("in-progress").addClass(e?"visible":"hidden").trigger("pat-update",{pattern:s,transition:"complete"})};if(n){var a=l[i.transition];t.addClass("in-progress").trigger("pat-update",{pattern:s,transition:"start"}),t[e?a.show:a.hide]({duration:n,easing:i.effect.easing,complete:r})}else"css"!==i.transition&&t[e?"show":"hide"](),r()},addURLQueryParameter:function(t,e,i){var s=new RegExp("(\\?|\\&)"+e+"=.*?(?=(&|$))"),n=t.toString().split("#"),r=n[0],a=n[1],o=r;return o=s.test(r)?r.replace(s,"$1"+e+"="+i):/\?.+$/.test(r)?r+"&"+e+"="+i:r+"?"+e+"="+i,a&&(o+="#"+a),o},removeDuplicateObjects:function(t){return a.reduce(t,function(t,e){var i=!1;return a.each(t,function(t){i=a.keys(t).length===a.keys(e).length&&!a.chain(t).omit(function(t,e){return this[e]===t}.bind(e)).keys().value().length}),i||t.push(e),t},[])},mergeStack:function(t,s){for(var n=[],e=0;e<s;e++)n.push({});return a.each(t,function(t){for(var e=t.length-1,i=0;i<s;i++)n[i]=r.extend(n[i]||{},t[e<i?e:i])}),n},isElementInViewport:isElementInViewport}}),define("pat-compat",[],function(){var n,r,a,o;Array.prototype.every||(Array.prototype.every=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var s=arguments[1],n=0;n<i;n++)if(n in e&&!t.call(s,e[n],n,e))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var s=[],n=arguments[1],r=0;r<i;r++)if(r in e){var a=e[r];t.call(n,a,r,e)&&s.push(a)}return s}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,s;if(null===this)throw new TypeError(" this is null or not defined");var n=Object(this),r=n.length>>>0;if("[object Function]"!=={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(i=e),s=0;s<r;){var a;s in n&&(a=n[s],t.call(i,a,s,n)),s++}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var s=0;if(0<arguments.length&&((s=Number(arguments[1]))!=s?s=0:0!==s&&s!==1/0&&s!==-1/0&&(s=(0<s||-1)*Math.floor(Math.abs(s)))),i<=s)return-1;for(var n=0<=s?s:Math.max(i-Math.abs(s),0);n<i;n++)if(n in e&&e[n]===t)return n;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var s=i;1<arguments.length&&((s=Number(arguments[1]))!=s?s=0:0!==s&&s!==1/0&&s!==-1/0&&(s=(0<s||-1)*Math.floor(Math.abs(s))));for(var n=0<=s?Math.min(s,i-1):i-Math.abs(s);0<=n;n--)if(n in e&&e[n]===t)return n;return-1}),Array.prototype.map||(Array.prototype.map=function(t,e){var i,s,n;if(null===this)throw new TypeError(" this is null or not defined");var r=Object(this),a=r.length>>>0;if("[object Function]"!=={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(i=e),s=new Array(a),n=0;n<a;){var o,l;n in r&&(o=r[n],l=t.call(i,o,n,r),s[n]=l),n++}return s}),Array.prototype.reduce||(Array.prototype.reduce=function(t){if(null==this)throw new TypeError("Object is null or undefined");var e,i=0,s=this.length>>0;if("function"!=typeof t)throw new TypeError("First argument is not callable");if(arguments.length<2){if(0===s)throw new TypeError("Array length is 0 and no second argument");e=this[0],i=1}else e=arguments[1];for(;i<s;)i in this&&(e=t.call(void 0,e,this[i],i,this)),++i;return e}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;if(0===i&&1===arguments.length)throw new TypeError;var s,n=i-1;if(2<=arguments.length)s=arguments[1];else for(;;){if(n in this){s=this[n--];break}if(--n<0)throw new TypeError}for(;0<=n;)n in e&&(s=t.call(void 0,s,e[n],n,e)),n--;return s}),Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var s=arguments[1],n=0;n<i;n++)if(n in e&&t.call(s,e[n],n,e))return!0;return!1}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,s=function(){},n=function(){return i.apply(this instanceof s&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return s.prototype=this.prototype,n.prototype=new s,n}),Object.keys||(Object.keys=(n=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),o=(a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on non-object");var e=[];for(var i in t)n.call(t,i)&&e.push(i);if(r)for(var s=0;s<o;s++)n.call(t,a[s])&&e.push(a[s]);return e}))}),define("pat-jquery-ext",["jquery"],function(c){var s={init:function(e){var i={time:3,initialTime:8,exceptionAreas:[]};return this.each(function(){var t=c(this);t.data("timeout")||(e&&c.extend(i,e),t.data("timeout",{lastEvent:new Date,trueTime:i.time,time:i.initialTime,untouched:!0,inExceptionArea:!1}),t.bind("mouseover.timeout",s.mouseMoved),t.bind("mouseenter.timeout",s.mouseMoved),c(i.exceptionAreas).each(function(){t.find(this).live("mouseover.timeout",{parent:t},s.enteredException).live("mouseleave.timeout",{parent:t},s.leftException)}),0<i.initialTime?t.timeout("startTimer"):t.addClass("timeout"))})},enteredException:function(t){var e=t.data.parent.data("timeout");e.inExceptionArea=!0,t.data.parent.data("timeout",e),t.data.parent.trigger("mouseover")},leftException:function(t){var e=t.data.parent.data("timeout");e.inExceptionArea=!1,t.data.parent.data("timeout",e)},destroy:function(){return this.each(function(){var t=c(this),e=t.data("timeout");c(window).unbind(".timeout"),e.timeout.remove(),t.removeData("timeout")})},mouseMoved:function(){var t=c(this),e=t.data("timeout");t.hasClass("timeout")?(t.removeClass("timeout"),t.timeout("startTimer")):e.untouched&&(e.untouched=!1,e.time=e.trueTime),e.lastEvent=new Date,t.data("timeout",e)},startTimer:function(){var s=c(this),t=s.data("timeout"),n=function(){var t=s.data("timeout");if(t&&t.lastEvent)if(t.inExceptionArea)setTimeout(n,Math.floor(1e3*t.time));else{var e=new Date,i=Math.floor(1e3*t.time)-(e-t.lastEvent);0<i?setTimeout(n,i+100):s.addClass("timeout")}};setTimeout(n,Math.floor(1e3*t.time))}};c.fn.timeout=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void c.error("Method "+t+" does not exist on jQuery.timeout"):s.init.apply(this,arguments)},c.extend(c.expr[":"],{scrollable:function(t){return"scroll"===c(t).css("overflow")||"scroll"===c(t).css("overflowX")||"scroll"===c(t).css("overflowY")||(t.clientHeight<t.scrollHeight&&(-1!==c.inArray(c(t).css("overflowY"),["scroll","auto"])||-1!==c.inArray(c(t).css("overflow"),["scroll","auto"]))||t.clientWidth<t.scrollWidth&&(-1!==c.inArray(c(t).css("overflowX"),["scroll","auto"])||-1!==c.inArray(c(t).css("overflow"),["scroll","auto"])))}}),c.fn.makeVisibleInScroll=function(t){var a=null;return"string"==typeof t?a=c("#"+t):t&&(a=c(t)),this.each(function(){var t,e=c(this);t=a||(0<(t=e.parents(":scrollable")).length?c(t[0]):c(window));var i=e.position().top,s=e.height()+i,n=t.scrollTop(),r=t.height()+n;i<n?t.scrollTop(i):s>r-t.height()/2&&t.scrollTop(i-(t.height()-e.height())/2)})},c.fn.setPositionAbsolute=function(o,l,u){return this.each(function(){var t=c(this),e=c(this).width(),i=o.offset(),s=o.width(),n=o.height(),r=i.left+s-e+u,a=i.top+n+l;t.css({"z-index":1,position:"absolute",marginLeft:0,marginTop:0,left:r+"px",top:a+"px",width:e}),t.remove().appendTo("body").show()})},c.fn.positionAncestor=function(a){var o=0,l=0;return this.each(function(){var t=c(this).closest(a);if(t.length&&"static"!==t.css("position")){var e=c(this),i=e.offset().left-parseInt(e.css("marginLeft"),10),s=e.offset().top-parseInt(e.css("marginTop"),10),n=t.offset().left+parseInt(t.css("borderLeftWidth"),10),r=t.offset().top+parseInt(t.css("borderTopWidth"),10);return o=i-n,l=s-r,!1}}),{left:o,top:l}},String.prototype.startsWith=function(t){return null!==this.match("^"+t)},String.prototype.endsWith=function(t){return null!==this.match(t+"$")},c.simplePlaceholder={placeholder_class:null,hide_placeholder:function(){var t=c(this);t.val()===t.attr("placeholder")&&t.val("").removeClass(c.simplePlaceholder.placeholder_class)},show_placeholder:function(){var t=c(this);""===t.val()&&t.val(t.attr("placeholder")).addClass(c.simplePlaceholder.placeholder_class)},prevent_placeholder_submit:function(){return c(this).find(".simple-placeholder").each(function(){var t=c(this);t.val()===t.attr("placeholder")&&t.val("")}),!0}},c.fn.simplePlaceholder=function(t){if(void 0===document.createElement("input").placeholder){var e={placeholder_class:"placeholding"};t&&c.extend(e,t),c.simplePlaceholder.placeholder_class=e.placeholder_class,this.each(function(){var t=c(this);t.focus(c.simplePlaceholder.hide_placeholder),t.blur(c.simplePlaceholder.show_placeholder),""===t.val()&&(t.val(t.attr("placeholder")),t.addClass(c.simplePlaceholder.placeholder_class)),t.addClass("simple-placeholder"),c(this.form).submit(c.simplePlaceholder.prevent_placeholder_submit)})}return this},c.fn.findInclusive=function(t){return this.find("*").addBack().filter(t)},c.fn.slideIn=function(t,e,i){return this.animate({width:"show"},t,e,i)},c.fn.slideOut=function(t,e,i){return this.animate({width:"hide"},t,e,i)},c.expr[":"].Contains=function(t,e,i){return 0<=c(t).text().toUpperCase().indexOf(i[3].toUpperCase())},c.fn.scopedFind=function(t){return t.startsWith("#")?c(t):this.find(t)}}),define("pat-registry",["jquery","underscore","pat-logger","pat-utils","pat-compat","pat-jquery-ext"],function(r,a,o,s){for(var t,n=o.getLogger("registry"),e=/patterns-disable=([^&]+)/g,i=/patterns-dont-catch/g,l=!1,u={};null!==(t=e.exec(window.location.search));)u[t[1]]=!0,n.info("Pattern disabled via url config:",t[1]);for(;null!==(t=i.exec(window.location.search));)l=!0,n.info("I will not catch init exceptions");var c={patterns:{},initialized:!1,init:function(){r(document).ready(function(){n.info("loaded: "+Object.keys(c.patterns).sort().join(", ")),c.scan(document.body),c.initialized=!0,n.info("finished initial scan.")})},clear:function(){this.patterns={}},transformPattern:function(e,t){if(u[e])n.debug("Skipping disabled pattern:",e);else{var i=c.patterns[e];if(i.transform)try{i.transform(r(t))}catch(t){if(l)throw t;n.error("Transform error for pattern"+e,t)}}},initPattern:function(t,e,i){var s=r(e),n=c.patterns[t];if(n.init&&(plog=o.getLogger("pat."+t),s.is(n.trigger))){plog.debug("Initialising:",s);try{n.init(s,null,i),plog.debug("done.")}catch(t){if(l)throw t;plog.error("Caught error:",t)}}},orderPatterns:function(t){return a.contains(t,"validation")&&a.contains(t,"inject")&&(t.splice(t.indexOf("validation"),1),t.unshift("validation")),t},scan:function(t,i,s){var n=[];(i=this.orderPatterns(i||Object.keys(c.patterns))).forEach(a.partial(this.transformPattern,a,t)),i=a.each(i,function(t){var e=c.patterns[t];e.trigger&&n.unshift(e.trigger)}),r(t).findInclusive(n.join(",")).filter(function(){return 0===r(this).parents("pre").length}).filter(":not(.cant-touch-this)").toArray().reduceRight(function(t,e){i.forEach(a.partial(this.initPattern,a,e,s))}.bind(this),null),r("body").addClass("patterns-loaded")},register:function(t,e){var i;return(e=e||t.name)?c.patterns[e]?(n.error("Already have a pattern called: "+e),!1):((c.patterns[e]=t).jquery_plugin&&(i=("pat-"+e).replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()}),r.fn[i]=s.jqueryPlugin(t),r.fn[i.replace(/^pat/,"pattern")]=r.fn[i]),n.debug("Registered pattern:",e,t),c.initialized&&c.scan(document.body,[e]),!0):(n.error("Pattern lacks a name:",t),!1)}};return c}),define("pat-mockup-parser",["jquery"],function(a){"use strict";return{getOptions:function t(e,i,s){s=s||{},0===e.length||a.nodeName(e[0],"body")||(s=t(e.parent(),i,s));var n={};if(0!==e.length&&(n=e.data("pat-"+i))&&"string"==typeof n){var r={};a.each(n.split(";"),function(t,e){(e=e.split(":")).reverse();var i=e.pop();i=i.replace(/^\s+|\s+$/g,""),e.reverse();var s=e.join(":");s=s.replace(/^\s+|\s+$/g,""),r[i]=s}),n=r}return a.extend(!0,{},s,n)}}}),define("pat-base",["jquery","pat-registry","pat-mockup-parser","pat-logger"],function(n,a,o,l){"use strict";var r=l.getLogger("Patternslib Base"),u=function(t,e,i){var s=this.prototype.name,n=l.getLogger("pat."+s),r=t.data("pattern-"+s);if(void 0===r&&a.patterns[s]){try{e="mockup"===this.prototype.parser?o.getOptions(t,s,e):e,r=new a.patterns[s](t,e,i)}catch(t){n.error("Failed while initializing '"+s+"' pattern.",t)}t.data("pattern-"+s,r)}return r},c=function(t,e,i){this.$el=t,this.options=n.extend(!0,{},this.defaults||{},e||{}),this.init(t,e,i),this.emit("init")};return c.prototype={constructor:c,on:function(t,e){this.$el.on(t+"."+this.name+".patterns",e)},emit:function(t,e){void 0===e&&(e=[]),this.$el.trigger(t+"."+this.name+".patterns",e)}},c.extend=function(t){var e,i=this;if(!t)throw new Error("Pattern configuration properties required when calling Base.extend");(e=t.hasOwnProperty("constructor")?t.constructor:function(){i.apply(this,arguments)}).extend=c.extend,e.init=u,e.jquery_plugin=!0,e.trigger=t.trigger;var s=function(){this.constructor=e};return s.prototype=i.prototype,e.prototype=new s,n.extend(!0,e.prototype,t),e.__super__=i.prototype,t.name?t.trigger?a.register(e,t.name):r.warn("The pattern '"+t.name+"' does not have a trigger attribute, it will not be registered."):r.warn("This pattern without a name attribute will not be registered!"),e},c}),define("pat-collectiveplaylist",["jquery","pat-base","pat-registry","pjaxscript","jplayerscript","jplayerplaylistscript"],function(e,t,i,s){"use strict";return t.extend({name:"pat-collectiveplaylist",trigger:"#jquery_jplayer_playlist",init:function(){e("body").append(e("#playerfooterviewlet"));var n=new s({elements:["div.outer-wrapper a","#portal-footer-wrapper a"],selectors:["title","#edit-zone","div.outer-wrapper"],cacheBust:!1}),r="";n._handleResponse=n.handleResponse,n.handleResponse=function(t,e,i){try{var s=t.match(/body.*? class="(.*?)"/);s&&(r=s[1])}catch(t){console.error(t)}n._handleResponse(t,e,i)},document.addEventListener("pjax:success",function(){e("body").attr("class",r),i.scan(document.body)});var t=e("#jquery_jplayer_playlist").attr("data-tracks");t=t.replace(/'/g,'"'),t=JSON.parse(t),new jPlayerPlaylist({jPlayer:"#jquery_jplayer_playlist",cssSelectorAncestor:"#jp_container_playlist"},t,{volume:.85,playlistOptions:{autoPlay:!1},solution:"html, flash",supplied:"mp3, oga, ogg, wav",wmode:"window",useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!0})}})}),require(["pjaxscript","jplayerscript","jplayerplaylistscript","pat-collectiveplaylist"],function(){}),define("/Users/ksuess/Desktop/_temp/py3munich/c.playlist/collective.playlist/src/collective/playlist/browser/static/bundle-collectiveplaylist.js",function(){});
//# sourceMappingURL=collectiveplaylist.js.map